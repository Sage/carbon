import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { action } from "@storybook/addon-actions";

import specialCharacters from "../../../.storybook/utils/argTypes/specialCharacters";
import Pager from ".";

<Meta
  title="Pager/Test"
  parameters={{
    info: { disable: true },
    chromatic: {
      disable: true,
    },
  }}
  argTypes={{
    pageSize: {
      options: [1, 10, 25, 50, 100],
      control: {
        type: "select",
      },
    },
    variant: {
      options: ["default", "alternate"],
      control: {
        type: "select",
      },
    },
    totalRecordsSpecialCharacters: specialCharacters,
  }}
/>

export const PagerStory = ({
  totalRecords,
  totalRecordsSpecialCharacters,
  ...args
}) => {
  const handlePagination = (e) => {
    action("onPagination")(e);
  };
  const handleOnNext = (e) => {
    action("onNext")(e);
  };
  const handleOnPrevious = (e) => {
    action("onPrevious")(e);
  };
  const handleOnFirst = (e) => {
    action("onFirst")(e);
  };
  const handleOnLast = (e) => {
    action("onLast")(e);
  };
  return (
    <Pager
      pageSizeSelectionOptions={[
        { id: "1", name: 1 },
        { id: "10", name: 10 },
        { id: "25", name: 25 },
        { id: "50", name: 50 },
        { id: "100", name: 100 },
      ]}
      onPagination={handlePagination}
      onNext={handleOnNext}
      onPrevious={handleOnPrevious}
      onFirst={handleOnFirst}
      onLast={handleOnLast}
      totalRecords={totalRecords || totalRecordsSpecialCharacters}
      {...args}
    />
  );
};

# Pager

### Default

<Canvas>
  <Story
    name="default"
    args={{
      totalRecords: "100",
      totalRecordsSpecialCharacters: undefined,
      showPageSizeSelection: false,
      pageSize: 10,
      currentPage: "1",
      variant: "default",
      showPageSizeLabelBefore: true,
      showPageSizeLabelAfter: true,
      showTotalRecords: true,
      showFirstAndLastButtons: true,
      showPreviousAndNextButtons: true,
      showPageCount: true,
    }}
  >
    {PagerStory.bind({})}
  </Story>
</Canvas>
