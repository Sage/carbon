import { Meta, ArgsTable, Canvas, Story } from "@storybook/addon-docs";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";
import Pager from ".";
import * as stories from "./pager.stories.tsx";

<Meta
  title="Pager"
  parameters={{
    info: { disable: true },
  }}
/>

# Pager

Pagination Component.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Pager from "carbon-react/lib/components/pager";
```

## Examples

### Default

<Canvas>
  <Story story={stories.Default} name="default" />
</Canvas>

### with interactivePageNumber

When the `interactivePageNumber` prop is `false` the number input which contains the current
page number is replaced with a non-interactive label which will include the current page, and total page count all in one string.

<Canvas>
  <Story story={stories.InteractivePageNumber} name="interactivePageNumber" />
</Canvas>

### with hideDisabledElements

The example below demonstrates the functionality of the `hideDisabledElements` prop, when `true` all elements that typically would be disabled
are instead hidden. This prop can be used in conjunction with all other `Pager` props and functionality.

<Canvas>
  <Story story={stories.HideDisabledElements} name="hideDisabledElements" />
</Canvas>

### With disabled Page Size Selection

<Canvas>
  <Story name="disabled page size" story={stories.DisabledPageSize} />
</Canvas>

### Hiding Pager elements

Unlike with hiding the page size select component, the remaining elements that make up the `Pager` are rendered by
default: in order for them to be hidden you must pass `false` to the corresponding `show...` prop (see prop table below).
In the example below the `First` and `Last` buttons and `totalRecords` label have been hidden by setting the
`showFirstAndLastButtons` and `showTotalRecords` props to false.

<Canvas>
  <Story name="hiding pager elements" story={stories.HidingPagerElements} />
</Canvas>

### Smart elements

The examples below demonstrate the `Pager`'s smart functionality. In the first there are only enough records for one page,
and as such the navigation buttons are not neccessary and therefore not rendered. In the second example there are only enough
records for two pages, the `First` and `Last` buttons are not needed and as a result will not render.

<Canvas>
  <Story name="smart functionality" story={stories.SmartFunctionality} />
</Canvas>

### Loading state

When no totalRecords provided.

<Canvas>
  <Story name="loading state" story={stories.LoadingState} />
</Canvas>

### Custom pageSizeSelectionOptions

Shows 1, 2 or 5 items per page.

<Canvas>
  <Story
    name="page size selection options"
    story={stories.PageSizeSelectionOptions}
  />
</Canvas>

### With currentPage pre-set to last page

Due to the fact that it is last page, next and last links are disabled.

<Canvas>
  <Story name="current page last page" story={stories.CurrentPageLastPage} />
</Canvas>

### With currentPage pre-set to page 5

<Canvas>
  <Story name="current page" story={stories.CurrentPage} />
</Canvas>

### Custom responsive example

The`show...` props can also be used to implement responsive behaviour in the `Pager`. Below is an example that will
conditionally render the interanl elements as the screen size is adjusted. This example is best viewed in the Canvas tab
using full-screen mode with device or viewport emulation.

<Canvas>
  <Story
    name="using custom responsive settings"
    story={stories.UsingCustomResponsiveSettings}
  />
</Canvas>

## Props

### Pager

<ArgsTable of={Pager} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "pager.show",
      description:
        "The text to display before the totalRecords select component",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.records",
      description:
        "The text to display after the totalRecords select component",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.first",
      description:
        "The text to display for the button that navigates to the first page of records",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.last",
      description:
        "The text to display for the button that navigates to the last page of records",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.next",
      description:
        "The text to display for the button that navigates to the next page of records",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.previous",
      description:
        "The text to display for the button that navigates to the previous page of records",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.pageX",
      description:
        "The text to display before the current page input component",
      type: "func",
      returnType: "string",
    },
    {
      name: "pager.ofY",
      description: "The text to display after the current page input component",
      type: "func",
      returnType: "string",
    },
  ]}
/>
