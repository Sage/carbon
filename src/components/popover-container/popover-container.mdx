import { Meta, ArgTypes, Canvas } from "@storybook/blocks";

import * as RenderOpenStories from "./render-open/render-open.stories";
import * as RenderCloseStories from "./render-close/render-close.stories";
import * as PopoverContainerStories from "./popover-container.stories";

<Meta of={PopoverContainerStories} />

# Popover Container

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import PopoverContainer from "carbon-react/lib/components/popover-container";
```

## Examples

### Default

<Canvas of={PopoverContainerStories.Default} />

### With title

Use the `title` prop to set a title within the `PopoverContainer`.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.Title} />

### Right Aligned/Open Left

Use the `position` prop to open the `PopoverContainer` to the left, this is useful if your open button is to the right
of the screen.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.RightPosition} />

### Center Aligned

Use `position="center"` to center the `PopoverContainer` below the trigger element. This positioning is ideal when your trigger element is centrally located and you want the popover to appear directly underneath it, maintaining visual alignment.
The center position automatically calculates the optimal placement to keep the popover centered relative to its trigger, while ensuring it stays within the viewport boundaries.

<Canvas of={PopoverContainerStories.CenterPosition} />

### Border Radius

Use the `borderRadius` prop to customise the corner rounding of the `PopoverContainer`.

<Canvas of={PopoverContainerStories.BorderRadius} />

### Offset

Use the `offset` prop to control the distance between the `PopoverContainer` and its trigger element. 

<Canvas of={PopoverContainerStories.Offset} />

### Cover Button

Use the `shouldCoverButton` prop to hide the open button when the `PopoverContainer` is open.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.CoverButton} />

### Custom Open/Close Button

Use the `renderOpenComponent` and `renderCloseComponent` to render your own open or close buttons.

These props use a render prop pattern - https://reactjs.org/docs/render-props.html

#### Props passed through renderOpenComponent:

<ArgTypes of={RenderOpenStories} />

#### Props passed through renderCloseComponent:

<ArgTypes of={RenderCloseStories} />

<Canvas of={PopoverContainerStories.RenderProps} />

### Controlled

You can use the `open`, `onOpen` and `onClose` props to control the open state of the `PopoverContainer`.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.Controlled} />

### Complex content

You can easily use many different components to create your own composition.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.Complex} />

### Filter component

If you want to use the `PopoverContainer` to create for example `Filter` component.
You can do it easily in this way:

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.Filter} />

### Animation Disabled

It is possible to disable the animations applied to the `PopoverContainer` by setting the `disableAnimation` prop to `true`.

<Canvas of={PopoverContainerStories.DisableAnimation} />

### Focusing the open button programmatically

The component exposes a `focusButton` function that supports programmatically focusing on the open button, which can be called by passing a ref to the `PopoverContainer` component.
This can be useful when closing or submitting a Form within `PopoverContainer`.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas of={PopoverContainerStories.FocusButton} />

## Props

### Popover Container

<ArgTypes of={PopoverContainerStories} />
