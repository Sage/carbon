import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { ArgsTable as Props } from "@storybook/addon-docs";

import StyledSystemProps from "../../../.storybook/utils/styled-system-props";

import PopoverContainer, {
  renderOpen,
  renderClose,
} from "./popover-container.component";

import * as stories from "./popover-container.stories";

<Meta
  title="Popover Container"
  parameters={{
    info: { disable: true },
  }}
/>

# Popover Container

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import PopoverContainer from "carbon-react/lib/components/popover-container";
```

## Examples

### Default

<Canvas>
  <Story
    name="default"
    story={stories.Default}
  />
</Canvas>

### With title

Use the `title` prop to set a title within the `PopoverContainer`.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="title" story={stories.Title} />
</Canvas>

### Right Aligned/Open Left

Use the `position` prop to open the `PopoverContainer` to the left, this is useful if your open button is to the right
of the screen.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="position" story={stories.Position} />
</Canvas>

### Cover Button

Use the `shouldCoverButton` prop to hide the open button when the `PopoverContainer` is open.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="cover button" story={stories.CoverButton} />
</Canvas>

### Custom Open/Close Button

Use the `renderOpenComponent` and `renderCloseComponent` to render your own open or close buttons.

These props use a render prop pattern - https://reactjs.org/docs/render-props.html

##### Props passed through renderOpenComponent:

<Props of={renderOpen} />

##### Props passed through renderCloseComponent:

<Props of={renderClose} />

<Canvas>
  <Story name="render props" story={stories.RenderProps} />
</Canvas>

### Controlled

You can use the `open`, `onOpen` and `onClose` props to control the open state of the `PopoverContainer`.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="controlled" story={stories.Controlled} />
</Canvas>

### Complex content

You can easily use many different components to create your own composition.

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="complex" story={stories.Complex} />
</Canvas>

### Filter component

If you want to use the `PopoverContainer` to create for example `Filter` component.
You can do it easly in this way:

**Please note you should supply an `onClose` when controlling the `open` state in order for the `PopoverContainer` to close when clicking outside of the wrapper element**

<Canvas>
  <Story name="filter" story={stories.Filter} />
</Canvas>

## Props

### Popover Container

<StyledSystemProps of={PopoverContainer} padding noHeader />
