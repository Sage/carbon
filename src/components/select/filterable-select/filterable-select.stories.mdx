import { Meta, Props, Preview, Story } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import { useState } from 'react';
import { FilterableSelect, Option } from '../';
import Button from '../../button';
import SelectTextbox from '../select-textbox/select-textbox.component';

<Meta title="Design System/Select/Filterable" />

# Filterable Select

Select one of available options from the drop-down menu using filter

## Overview 

Filterable Select is a Carbon styled implementation of WAI-ARIA Combobox with Inline Autocomplete.

## Guidance, hints and tips 

Always insert `Option` Components inside the `FilterableSelect`, analogous to the `<select>` and `<option>` HTML Elements.

If you type printable characters in the Textbox,
you can filter through the existing options leaving only those that match the text you typed.

```javascript
import { FilterableSelect, Option } from "carbon-react/lib/components/select";
```

### Basic usage:

<Preview>
  <Story name="basic" parameters={{ info: { disable: true }}} >
    <FilterableSelect
      name='simple'
      id='simple'
      label='label'
      labelInline
      onOpen={ action('onOpen') }
      onChange={ action('onChange') }
      onClick={ action('onClick') }
      onFocus={ action('onFocus') }
      onBlur={ action('onBlur') }
      onKeyDown={ action('onKeyDown') }
    >
      <Option text='Amber' value='1' />
      <Option text='Black' value='2' />
      <Option text='Blue' value='3' />
      <Option text='Brown' value='4' />
      <Option text='Green' value='5' />
      <Option text='Orange' value='6' />
      <Option text='Pink' value='7' />
      <Option text='Purple' value='8' />
      <Option text='Red' value='9' />
      <Option text='White' value='10' />
      <Option text='Yellow' value='11' />
    </FilterableSelect>
  </Story>
</Preview>

### Controlled Usage:

<Preview>
  <Story name="controlled" parameters={{ info: { disable: true }}} >
    {() => {
      const [value, setValue] = useState('');
      function onChangeHandler(event) {
        setValue(event.target.value);
        action('value set');
      };
      function clearValue() {
        setValue('');
      }
      return (
        <div>
          <Button onClick={ clearValue } mb={ 2 }>clear</Button>
          <FilterableSelect
            id='controlled'
            name='controlled'
            value={ value }
            onChange={ onChangeHandler }
          >
            <Option text='Amber' value='1' />
            <Option text='Black' value='2' />
            <Option text='Blue' value='3' />
            <Option text='Brown' value='4' />
            <Option text='Green' value='5' />
            <Option text='Orange' value='6' />
            <Option text='Pink' value='7' />
            <Option text='Purple' value='8' />
            <Option text='Red' value='9' />
            <Option text='White' value='10' />
            <Option text='Yellow' value='11' />
          </FilterableSelect>
        </div>
      );
    }}
  </Story>
</Preview>

### Disabled:

<Preview>
  <Story name="disabled" parameters={{ info: { disable: true }}} >
    <FilterableSelect name='disabled' id='disabled' defaultValue='3' disabled>
      <Option text='Amber' value='1' />
      <Option text='Black' value='2' />
      <Option text='Blue' value='3' />
      <Option text='Brown' value='4' />
      <Option text='Green' value='5' />
      <Option text='Orange' value='6' />
      <Option text='Pink' value='7' />
      <Option text='Purple' value='8' />
      <Option text='Red' value='9' />
      <Option text='White' value='10' />
      <Option text='Yellow' value='11' />
    </FilterableSelect>
  </Story>
</Preview>

### Read Only:

<Preview>
  <Story name="readonly" parameters={{ info: { disable: true }}} >
    <FilterableSelect name='readonly' id='readonly' defaultValue='4' readOnly>
      <Option text='Amber' value='1' />
      <Option text='Black' value='2' />
      <Option text='Blue' value='3' />
      <Option text='Brown' value='4' />
      <Option text='Green' value='5' />
      <Option text='Orange' value='6' />
      <Option text='Pink' value='7' />
      <Option text='Purple' value='8' />
      <Option text='Red' value='9' />
      <Option text='White' value='10' />
      <Option text='Yellow' value='11' />
    </FilterableSelect>
  </Story>
</Preview>

### With disabled portal:

<Preview>
  <Story name="withDisabledPortal" parameters={{ info: { disable: true }}} >
    <FilterableSelect disablePortal name='withDisabledPortal' id='withDisabledPortal' defaultValue='4'>
      <Option text='Amber' value='1' />
      <Option text='Black' value='2' />
      <Option text='Blue' value='3' />
      <Option text='Brown' value='4' />
      <Option text='Green' value='5' />
      <Option text='Orange' value='6' />
      <Option text='Pink' value='7' />
      <Option text='Purple' value='8' />
      <Option text='Red' value='9' />
      <Option text='White' value='10' />
      <Option text='Yellow' value='11' />
    </FilterableSelect>
  </Story>
</Preview>

### Required

You can use the `required` prop to indicate if the field is mandatory.

<Preview>
  <Story name="required" parameters={{ info: { disable: true }}} >
    <FilterableSelect
      name='required-select'
      id='required-select'
      label='Foreground Color'
      required
    >
      <Option text='Amber' value='1' />
      <Option text='Black' value='2' />
      <Option text='Blue' value='3' />
      <Option text='Brown' value='4' />
      <Option text='Green' value='5' />
      <Option text='Orange' value='6' />
      <Option text='Pink' value='7' />
      <Option text='Purple' value='8' />
      <Option text='Red' value='9' />
      <Option text='White' value='10' />
      <Option text='Yellow' value='11' />
    </FilterableSelect>
  </Story>
</Preview>

## Props:

<Props of={ FilterableSelect } />

### Props derived from the Textbox Component

<Props of={ SelectTextbox } />

### Props of the Option Component

<Props of={ Option } />
