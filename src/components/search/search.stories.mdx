import { Meta, Story, Preview, Props } from "@storybook/addon-docs";
import { useState } from "react";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import Search from ".";
import Button from "../button";
import Box from "../box";

<Meta title="Search" />

# Search

This search component should be used if you require the user to conduct a search.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

Import `Search` into the project.

```javascript
import Search from "carbon-react/lib/components/search";
```

## Examples

### Search without Search Button and default width

<Preview>
  <Story name="default" parameters={{ info: { disable: true } }}>
    <Search placeholder="Search..." defaultValue="" />
  </Story>
</Preview>

### Search can be controlled

<Preview>
  <Story name="controlled" parameters={{ info: { disable: true } }}>
    {() => {
      const [value, setValue] = useState("");
      return (
        <div>
          <Button onClick={() => setValue("")}>Clear value</Button>
          <Button onClick={() => setValue("test value")} ml={2}>
            Set value
          </Button>
          <Search
            id="test"
            name="test"
            placeholder="Search..."
            onChange={(e) => setValue(e.target.value)}
            value={value}
            searchButton
          />
        </div>
      );
    }}
  </Story>
</Preview>

### Search with Search Button and default width

<Preview>
  <Story name="with SearchButton" parameters={{ info: { disable: true } }}>
    <Search defaultValue="Here is some text" searchButton />
  </Story>
</Preview>

### Search without Search Button, default width and colour background

<Preview style={{ backgroundColor: "#e6ebed" }}>
  <Story
    name="default with colour background"
    parameters={{ info: { disable: true }, chromatic: { disable: true } }}
  >
    <Search placeholder="Search..." defaultValue="" />
  </Story>
</Preview>

### Search with Search Button, default width and colour background

<Preview style={{ backgroundColor: "#e6ebed" }}>
  <Story
    name="with SearchButton and colour background"
    parameters={{ info: { disable: true }, chromatic: { disable: true } }}
  >
    <Search
      placeholder="Search..."
      defaultValue="Here is some text"
      searchButton
    />
  </Story>
</Preview>

### Search without Search Button and custom width

In this example the `searchWidth` prop is 375px.

<Preview>
  <Story name="custom Width using px" parameters={{ info: { disable: true } }}>
    <Search placeholder="Search..." defaultValue="" searchWidth="375px" />
  </Story>
</Preview>

### Search with Search Button and custom width

In this example the `searchWidth` prop is 375px.

<Preview>
  <Story
    name="with SearchButton and Custom Width using px"
    parameters={{ info: { disable: true } }}
  >
    <Search defaultValue="Here is some text" searchButton searchWidth="375px" />
  </Story>
</Preview>

### Search without Search Button and custom width

In this example the `searchWidth` prop is 70%.

<Preview>
  <Story name="custom Width using %" parameters={{ info: { disable: true } }}>
    <Search placeholder="Search..." defaultValue="" searchWidth="70%" />
  </Story>
</Preview>

### Search with Search Button and custom width

In this example the `searchWidth` prop is 70%.

<Preview>
  <Story
    name="with SearchButton and Custom Width using %"
    parameters={{ info: { disable: true } }}
  >
    <Search defaultValue="Here is some text" searchButton searchWidth="70%" />
  </Story>
</Preview>

### Search with Alternative Styling

In this example the `variant` prop is "dark" and `searchButton` is true.

<Preview>
  <Story name="with Alt Styling" parameters={{ info: { disable: true } }}>
    <Box width="700px" height="108px">
      <div style={{ padding: "32px", backgroundColor: "#003349" }}>
        <Search
          placeholder="Search..."
          defaultValue="Here is some text"
          searchButton
          variant="dark"
        />
      </div>
    </Box>
  </Story>
</Preview>

### Search with Alternative Styling and No Button

In this example the `variant` prop is "dark" and no search button is present.

<Preview>
  <Story
    name="with Alt Styling and no button"
    parameters={{ info: { disable: true } }}
  >
    <Box width="700px" height="108px">
      <div style={{ padding: "32px", backgroundColor: "#003349" }}>
        <Search placeholder="Search..." defaultValue="" variant="dark" />
      </div>
    </Box>
  </Story>
</Preview>

## Props

### Search

<StyledSystemProps of={Search} noHeader margin />
