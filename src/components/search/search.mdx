import { Meta, ArgTypes, Canvas } from "@storybook/blocks";

import * as SearchStories from "./search.stories";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

<Meta of={SearchStories} />

# Search

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/64709e-search"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

This search component should be used if you require the user to conduct a search.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Search from "carbon-react/lib/components/search";
```

## Examples

### Default

<Canvas of={SearchStories.Default} />


### With Label and Hint Text

You can pass a visible label and hint text to the `Search` component via the `label` & `inputHint` props. 

When the `inputHint` prop is passed, please use a full stop `.` at the end. This forces a pause
before any other announcements, this well help screen reader users understand the hint fully.

<Canvas of={SearchStories.WithLabelAndInputHint} />

### With Search Button

You can pass the `searchButton` prop to render a search button.
This will render a button with the text "Search" and an aria-label of "search button".
To override the the default aria-label, you can pass a string value to the `searchButtonAriaLabel` prop.

<Canvas of={SearchStories.WithSearchButton} />

You can override the text of the search button by passing a string value to the `searchButton` prop:


<Canvas of={SearchStories.WithSearchButtonPropTextOverride} />

Or, by using the locale provider to override the button's text via the `searchButtonText` translation key.
Please note that the `searchButton` prop will take precedence over the locale value.

<Canvas of={SearchStories.WithSearchButtonLocaleOverride} />

### Custom width

You can set a custom width for the search input by passing any valid CSS string value to the `searchWidth` prop.

<Canvas of={SearchStories.CustomWidth} />

### Custom MaxWidth

You can set a custom max-width for the search input by passing any valid CSS string value to the `maxWidth` prop.

<Canvas of={SearchStories.WithCustomMaxWidth} />

### Dark Background Styling

The search component can be styled to render on dark backgrounds by passing the `variant` prop with the value "dark".

<Canvas of={SearchStories.WithAltStyling} />

### Trigger actions on clear

It is possible to trigger actions such as filtering the search results when the cross icon is clicked.
When the `triggerOnClear` prop is set to `true`, the `onClick` callback will be called when the cross icon is clicked.

<Canvas of={SearchStories.TriggerOnClear} />

## Props

### Search

<ArgTypes of={SearchStories} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object
to the [i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "search.searchButtonText",
      description: "The text for search button",
      type: "func",
      returnType: "string",
    },
  ]}
/>
