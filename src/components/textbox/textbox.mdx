import { Meta, ArgTypes, Canvas } from "@storybook/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as TextboxStories from "./textbox.stories";

<Meta of={TextboxStories} />

# Textbox

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/60f854-text-input/b/007c6c"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Captures a single line of text.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Validation states](#validation-states)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Textbox from "carbon-react/lib/components/textbox";
```

## Designer Notes

- Use placeholder text to give the user examples of data formats (e.g. AB123456C for a UK National Insurance number).
- Use prefixes if your data always begins with a certain sequence (e.g. a UK VAT number usually starts with ‘GB’).
- If content in a textbox is never editable, think about removing the field border so it appears as static text.
- You can disable a textbox, but try to avoid this. If you need to, make it clear what the user needs to do in order to activate the textbox.
- Use wider fields for longer data (e.g. an address line), and narrower fields for shorter data (e.g. a postcode), to give the user a clue about the data expected.

## Examples

### Default

<Canvas of={TextboxStories.Default} />

### With inputHint

When the `inputHint` prop is passed, please use a full stop `.` at the end. This forces a pause
before any other announcements, this well help screen reader users understand the hint fully.

<Canvas of={TextboxStories.WithInputHint} />

### Character counter

If you use the `inputHint` prop to provide the user with a hint before the input, please use a full stop `.` at the end,
as it forces a pause before any other announcements, this well help screen reader users understand the hint fully.

<Canvas of={TextboxStories.CharacterCounter} />

### Character counter with translations

Various translations can be applied to both the visually hidden hint message, and the character
counter below the input.

These translations have been split up to include a number which represents the current character count which
is over/under the set `characterLimit`. Please see below how this has been achieved with a French translation.
Include the formatted number count wherever makes sense for the language you're translating too.

<Canvas of={TextboxStories.CharacterCounterTranslations} />

### Prefix

<Canvas of={TextboxStories.Prefix} />

### Sizes

<Canvas of={TextboxStories.Sizes} />

### Margins

<Canvas of={TextboxStories.Margins} />

### Disabled

<Canvas of={TextboxStories.Disabled} />

### ReadOnly

<Canvas of={TextboxStories.ReadOnly} />

### With custom maxWidth

<Canvas of={TextboxStories.WithCustomMaxWidth} />

### Required

You can use the `required` prop to indicate if the field is mandatory.

<Canvas of={TextboxStories.Required} />

### Optional

You can use the `isOptional` prop to indicate if the field is mandatory.

<Canvas of={TextboxStories.IsOptional} />

### With labelInline (legacy)

Use the `labelInline` prop to display the label on the same horizontal row as the input. You can adjust its appearance using the `labelWidth` and
`labelAlign` props to control the width and text alignment of the label and the `inputWidth` prop to control the width of the input.

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={TextboxStories.WithLabelInline} />

<Canvas of={TextboxStories.LabelAlign} />

### With custom labelWidth and inputWidth

<Canvas of={TextboxStories.WithCustomLabelWidthAndInputWidth} />

### With labelHelp (legacy)

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={TextboxStories.WithLabelHelp} />

### With fieldHelp (legacy)

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={TextboxStories.WithFieldHelp} />

## Validation States

This component supports input validation, see our [Validations](../?path=/docs/documentation-validations--docs) documentation page for more information.

## Props

### Textbox

<ArgTypes of={TextboxStories} />

**Any other supplied props will be provided to the underlying HTML input element**

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "characterCount.tooManyCharacters",
      description:
        "The message displayed below the input which will inform" +
        " users if they have exceeded the set `characterLimit` and how much by." +
        " This will also be announced to screen readers.",
      type: "func",
      returnType: "string",
    },
    {
      name: "characterCount.charactersLeft",
      description:
        "The message displayed below the input which will inform" +
        " users how many characters they have before they reach or exceed the" +
        " set `characterLimit`. This will also be announced to screen readers.",
      type: "func",
      returnType: "string",
    },
    {
      name: "characterCount.visuallyHiddenHint",
      description:
        "The message which will be read out to screen reader users, informing them" +
        " of the set `characterLimit`.",
      type: "func",
      returnType: "string",
    },
  ]}
/>
