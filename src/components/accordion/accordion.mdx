import { Meta, ArgTypes, Canvas } from "@storybook/blocks";

import * as AccordionStories from "./accordion.stories";
import * as AccordionGroupStories from "./accordion-group/accordion-group.stories";

<Meta of={AccordionStories} />

# Accordion

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/028f94-accordion/b/3614a6"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Accordions are a good progressive disclosure technique - initially showing only top-level information, but allowing the user quick access to more on request. They should be used sparingly, as some users (e.g. those with low digital literacy) may find them confusing.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

To use accordions, import the `Accordion` component and pass the desired content as child components. To group accordions together, import the `AccordionGroup` component and wrap your `Accordion` components with it.

```javascript
import {
  Accordion,
  AccordionGroup,
} from "carbon-react/lib/components/accordion";

const MyComponent = () => (
  <AccordionGroup>
    <Accordion title="Title">
      <p>Content as a children</p>
    </Accordion>
    <Accordion title="Title">
      <p>Content as a children</p>
    </Accordion>
  </AccordionGroup>
);
```

Accordions can be used as a controlled component where the expansion state is controlled externally; in that case, both the `onChange` and `expanded` props are required.

```javascript
import { Accordion } from "carbon-react/lib/components/accordion";

const MyComponent = () => (
  <Accordion onChange={onChange} expanded={expanded} title="Title">
    <p>Content as a children</p>
  </Accordion>
);
```

An Accordion can also be used as an uncontrolled component where the expansion state is controlled internally; to define the initial expansion state, set the `defaultExpanded` prop. The `onChange` prop can be used to hook a callback onto the component for state changes, should it be required.

```javascript
import { Accordion } from "carbon-react/lib/components/accordion";

const MyComponent = () => (
  <Accordion onChange={onChange} defaultExpanded={true} title="Title">
    <p>Content as a children</p>
  </Accordion>
);
```

## Examples

### Default

The default version of `Accordion` has a white background and no side borders.

<Canvas of={AccordionStories.AccordionDefault} />

### With disabled content padding

The internal padding of the `Accordion` can be removed by setting the `disableContentPadding` prop to `true`.

<Canvas of={AccordionStories.WithDisableContentPadding} />

### Transparent

The `Accordion` can be rendered with a transparent background by setting the scheme to `transparent`.

<Canvas of={AccordionStories.Transparent} />

### Small

To use a smaller `Accordion`, set the size prop to `small`. The small version has a smaller heading, less padding and a smaller icon. If this prop is not provided, or set to `large`, the default size will be used.

<Canvas of={AccordionStories.Small} />

### Subtitle

A subtitle can be added when the size prop is not provided, or set to `large`, and the variant prop is set to `standard`.

<Canvas of={AccordionStories.Subtitle} />

### Full border

The `Accordion` can be rendered with a full border by setting the `borders` prop to `full`.

<Canvas of={AccordionStories.FullBorder} />

### No border

The `Accordion` can be rendered without borders by setting the `borders` prop to `none`.

<Canvas of={AccordionStories.NoBorder} />

### Left-aligned icon

The icon showing the state of the `Accordion` can be left-aligned by setting the `iconAlign` prop to `left`. If not provided, or set to `right`, the icon will be right-aligned.

<Canvas of={AccordionStories.LeftAlignedIcon} />

### Custom width

The default width of 100% can be overriden by setting the `width` prop to a custom value.

<Canvas of={AccordionStories.DifferentWidth} />

### With custom padding and margins

An `Accordion` can be rendered with different padding and margin by setting the `padding` and `margin` props.

<Canvas of={AccordionStories.WithDifferentPaddingAndMargin} />

### With custom title padding and margins

An `Accordion` title can be rendered with different padding and margin by passing the desired configuration object to the `headerSpacing` prop.

<Canvas of={AccordionStories.WithDifferentPaddingAndMarginInAccordionTitle} />

### Grouped

To group a collection of `Accordion` components, import the `AccordionGroup` component and wrap the to-be-grouped `Accordion` components within it as children. Neighbouring accordions should always be wrapped in an `AccordionGroup` to ensure keyboard accessibility.

<Canvas of={AccordionStories.Grouped} />

### With validation icon

A validation icon can be displayed in the header of the `Accordion` by setting the `error`, `warning` or `info` prop to a string. This message will be displayed in the tooltip when hovered over, or when focused via the keyboard.

<Canvas of={AccordionStories.WithValidationIcon} />

### With dynamic content

An `Accordion`  will automatically adjust its height to fit the content inside it.

<Canvas of={AccordionStories.WithDynamicContent} />

### Subtle variant

Setting the `variant` prop to `subtle` will override the default styling of an Accordion. The `subTitle` and `scheme` props will have no effect when used alongside this variant, nor will the validation props (`error`, `warning`, and `info`).

<Canvas of={AccordionStories.AccordionSubtle} />

## Props

### Accordion

<ArgTypes of={AccordionStories} />

### AccordionGroup

<ArgTypes of={AccordionGroupStories} />
