import { Meta, ArgTypes, Canvas } from "@storybook/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as MessageStories from "./message.stories";

<Meta of={MessageStories} />

# Message

Presents a static message which stays on screen.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Message from "carbon-react/lib/components/message";
```

## Examples

### Default

To use `Message`, you can pass any valid content as children. 

<Canvas of={MessageStories.Default} />

### With Close Button

You can make the `Message` dismissible by providing an `onDismiss` handler, which will render a close button on the top right corner of the component.
To change the `aria-label` of the close button, you can use the `closeButtonAriaLabel` prop or make use of the `message.closeButtonAriaLabel` translation key.

<Canvas of={MessageStories.WithCloseButton} />

### Programmatic Focus and Aria-Live Regions

Programmatic focus should only be used for "error" messages to ensure users are immediately aware of critical issues.
This can be done by programmatically moving focus to the `Message` component when an error appears to ensure users are aware of the newly rendered content and that it is announced by screen readers.

**Note:** The `Message` component will not render with a focus outline when focused programmatically, this is done intentionally as the container is not meant to be interacted with directly.

For non-error messages, we recommend using aria-live regions to announce messages to screen reader users. Aria-live regions should be rendered to the page on load and remain present in the DOM.
Place messages within the aria-live region to ensure they are announced automatically without requiring focus management.
This approach works well for success, warning, info, and other non-critical message variants that should be announced but do not require immediate focus.

<Canvas of={MessageStories.ProgrammaticFocus} />

### With Title

A custom title can be set via the `title` prop, this prop accepts a string or any valid React node.

<Canvas of={MessageStories.WithTitle} />

### Variants

The `Message` component supports several variants to convey different types of messages. You can set the variant using the `variant` prop.
The type of message will be announced by screen readers along with the content, the announcement for each variant can be customized using the provided translation keys.

<Canvas of={MessageStories.Variant} />

#### Subtle Variants

<Canvas of={MessageStories.SubtleVariant} />

### Large size

You can use the `size` prop to change the size of the `Message` to "large".

<Canvas of={MessageStories.SizeLarge} />

### showCloseIcon (Deprecated)

<Canvas of={MessageStories.ShowCloseIcon} />

### Transparent (Deprecated)

<Canvas of={MessageStories.Transparent} />

## Props

### Message

<ArgTypes of={MessageStories} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "message.closeButtonAriaLabel",
      description: "Screen reader only text for the aria-label attribute of the close button",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.error",
      description: "Screen reader only text for error message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.info",
      description: "Screen reader only text for info message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.success",
      description: "Screen reader only text for success message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.warning",
      description: "Screen reader only text for warning message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.neutral",
      description: "Screen reader only text for neutral message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.ai",
      description: "Screen reader only text for AI-related information message type",
      type: "func",
      returnType: "string",
    },
    {
      name: "message.callout",
      description: "Screen reader only text for callout message type",
      type: "func",
      returnType: "string",
    },

  ]}
/>
