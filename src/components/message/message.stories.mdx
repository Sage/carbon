import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import Message from '.';
import Button from '../button';
import Typography, {List, ListItem} from '../typography';
import Box from '../box';
import Link from '../link';

<Meta
  title="Message"
  parameters={{ info: { disable: true }}}
/>

# Message
Presents a static message which stays on screen.

## Contents
- [Quick Start](#quick-start)
- [Designer Notes](#designer-notes)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)

## Quick Start
```javascript
import Message from "carbon-react/lib/components/message";
```

## Designer Notes
Useful for messages which are longer or more important, where the user needs time to interpret them, or might need to refer back to them during an activity.

Various types are available:
- **Error** - tells the user about a negative outcome that has already happened. Try to focus the message text on the action the user needs to take to be successful, rather than what went wrong.
- **Info** - gives context or advice to the user where there’s no risk of a negative outcome.
- **Success** - indicates that an activity was successful. A good example could also present the user with onward options, such as ‘View a list of items’ or ‘Create another’.
- **Warning** - warns the user about a potential negative outcome that hasn’t happened yet.
- The Transparent configuration is useful if you’d like the message to be more visually subtle, perhaps in a Dialog.

## Related Components

- Longer, time sensitive message that must be dismissed? [Try Toast](/?path=/docs/design-system-toast--default-story "Toast").
- Error or warning message that interrupts activity? [Try Alert](/?path=/docs/alert--default-story "Alert").

## Examples

### Default

Message variant is `info` by default

<Preview>
  <Story name="default">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          {!isOpen && <Button onClick={ () => setIsOpen(true) }>Open Message</Button>}
          <Message
            open={ isOpen }
            onDismiss={ () => setIsOpen(false) }
          >
            Some custom message
          </Message>
        </>
      )
    }}
  </Story>
</Preview>

### Error

<Preview>
  <Story name="error">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          {!isOpen && <Button onClick={ () => setIsOpen(true) }>Open Message</Button>}
          <Message
            open={ isOpen }
            onDismiss={ () => setIsOpen(false) }
            variant="error"
          >
            Some custom message
          </Message>
        </>
      )
    }}
  </Story>
</Preview>

### Success

<Preview>
  <Story name="success">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          {!isOpen && <Button onClick={ () => setIsOpen(true) }>Open Message</Button>}
          <Message
            open={ isOpen }
            onDismiss={ () => setIsOpen(false) }
            variant="success"
          >
            Some custom message
          </Message>
        </>
      )
    }}
  </Story>
</Preview>

### Warning

<Preview>
  <Story name="warning">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          {!isOpen && <Button onClick={ () => setIsOpen(true) }>Open Message</Button>}
          <Message
            open={ isOpen }
            onDismiss={ () => setIsOpen(false) }
            variant="warning"
          >
            Some custom message
          </Message>
        </>
      )
    }}
  </Story>
</Preview>

### With rich content
It is also possible to use the `List`, `ListItem` and `Typography` components to render content other than plain text in a `Message`.
<Preview>
  <Story name="with rich content">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          {!isOpen && <Button onClick={ () => setIsOpen(true) }>Open Message</Button>}
          <Message
            open={ isOpen }
            onDismiss={ () => setIsOpen(false) }
            variant="warning"
            title={<Typography variant="h4">Title</Typography>}
          >
            Some custom message
            <Box mt='8px'>
              <List>
                <ListItem>Some custom <Typography variant="b">message as a list</Typography>. <Link href="#">With a link</Link></ListItem>
                <ListItem>Some custom <Typography variant="b">message as a list</Typography>. <Link href="#">With a link</Link></ListItem>
                <ListItem>Some custom <Typography variant="b">message as a list</Typography>. <Link href="#">With a link</Link></ListItem>
              </List>
            </Box>
          </Message>
        </>
      )
    }}
  </Story>
</Preview>

## Props

### Message

<Props of={Message} />
