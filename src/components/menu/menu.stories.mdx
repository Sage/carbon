import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import {
  Menu,
  MenuItem,
  SubmenuBlock,
  MenuDivider,
  MenuSegmentTitle,
  ScrollableBlock,
} from ".";
import Box from "../box";
import NavigationBar from "../navigation-bar";
import VerticalDivider from "../vertical-divider";
import { SageIcon } from "../../../.storybook/welcome-page/footer/footer.style.js";
import Search from "../../__experimental__/components/search";

<Meta title="Design System/Menu" parameters={{ info: { disable: true } }} />

# Menu

Provides navigation for an app, which can be used via mouse or keyboard.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import {
  Menu,
  MenuItem,
  SubmenuBlock,
  MenuDivider,
} from "carbon-react/lib/components/menu";
```

## Examples

### Default

<Preview>
  <Story name="default" parameters={{ chromatic: { disable: true } }}>
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuDivider />
          <MenuItem icon="settings" href="#">
            Item Submenu Three
          </MenuItem>
          <MenuItem href="#">Item Submenu Four</MenuItem>
        </MenuItem>
        <MenuItem submenu="Menu Item Four">
          <MenuItem onClick={() => {}}>Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default selected

<Preview>
  <Story name="default selected">
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem selected href="#">
          Menu Item One
        </MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default divider

<Preview>
  <Story name="default divider" parameters={{ chromatic: { disable: true } }}>
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider />
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default large divider

<Preview>
  <Story
    name="default large divider"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider size="large" />
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default segment title

<Preview>
  <Story
    name="default segment title"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "200px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuSegmentTitle>segment title</MenuSegmentTitle>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default theme with alternate colour variant

<Preview>
  <Story
    name="default theme alternate colour"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider variant="alternate" size="large" />
          <MenuSegmentTitle variant="alternate">segment title</MenuSegmentTitle>
          <MenuItem variant="alternate" href="#">
            Item Submenu Two
          </MenuItem>
          <MenuItem variant="alternate" href="#">
            Item Submenu Three
          </MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Submenu direction left

<Preview>
  <Story
    name="submenu direction left"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem onClick={() => {}}>Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three" submenuDirection="left">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuDivider />
          <MenuItem icon="settings" href="#">
            Item Submenu Three
          </MenuItem>
          <MenuItem href="#">A really long Item Submenu Four</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Default icon

Menus with icons only must have a supplied keyboard shortcut. If no shortcut is supplied the menu item text is navigable by the first letter of each item.
The menu must have focus for this to work

<Preview>
  <Story name="default icon">
    <div style={{ minHeight: "250px" }}>
      <Menu>
        <MenuItem icon="home" href="#">
          Home
        </MenuItem>
        <MenuItem
          icon="person"
          href="#"
          keyboardOverride="a"
          ariaLabel="Account"
        />
        <MenuItem icon="settings" submenu="Settings">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuDivider />
          <MenuItem
            icon="settings"
            href="#"
            ariaLabel="settings"
            keyboardOverride="s"
          />
          <MenuItem href="#">Item Submenu Four</MenuItem>
        </MenuItem>
        <MenuItem
          icon="arrow_right"
          submenu
          keyboardOverride="a"
          ariaLabel="Actions"
        >
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme

<Preview>
  <Story name="dark theme" parameters={{ chromatic: { disable: true } }}>
    <div style={{ minHeight: "150px" }}>
      <Menu menuType="dark">
        <MenuItem onClick={() => {}}>Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem onClick={() => {}}>Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme selected

<Preview>
  <Story name="dark theme selected">
    <div style={{ minHeight: "150px" }}>
      <Menu menuType="dark">
        <MenuItem selected href="#">
          Menu Item One
        </MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme divider

<Preview>
  <Story
    name="dark theme divider"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu menuType="dark">
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider />
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme large divider

<Preview>
  <Story
    name="dark theme large divider"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu menuType="dark">
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider size="large" />
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme segment title

<Preview>
  <Story
    name="dark theme segment title"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "200px" }}>
      <Menu menuType="dark">
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuSegmentTitle>segment title</MenuSegmentTitle>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuItem href="#">Item Submenu Three</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark theme with alternate colour variant

<Preview>
  <Story
    name="dark theme alternate colour"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "250px" }}>
      <Menu menuType="dark">
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider variant="alternate" size="large" />
          <MenuSegmentTitle variant="alternate">segment title</MenuSegmentTitle>
          <MenuItem variant="alternate" href="#">
            Item Submenu Two
          </MenuItem>
          <MenuItem variant="alternate" href="#">
            Item Submenu Three
          </MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### No dropdown arrow on submenu

The example below has set the `showDropdownArrow` to false for the MenuItem with a submenu which means no dropdown arrow
is rendered.

<Preview>
  <Story name="no submenu dropdown arrow">
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem href="#">Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem showDropdownArrow={false} submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Dark icon

Menus with icons only must have a supplied keyboard shortcut. If no shortcut is supplied the menu item text is navigable by the first letter of each item.
The menu must have focus for this to work

<Preview>
  <Story name="dark icon">
    <div style={{ minHeight: "250px" }}>
      <Menu menuType="dark">
        <MenuItem icon="home" href="#">
          Home
        </MenuItem>
        <MenuItem
          icon="person"
          href="#"
          keyboardOverride="a"
          ariaLabel="Account"
        />
        <MenuItem icon="settings" submenu="Settings">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <MenuDivider />
          <MenuItem
            icon="settings"
            href="#"
            ariaLabel="settings"
            keyboardOverride="s"
          />
          <MenuItem href="#">Item Submenu Four</MenuItem>
        </MenuItem>
        <MenuItem
          icon="arrow_right"
          submenu
          keyboardOverride="a"
          ariaLabel="Actions"
        >
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Full navbar alignment example

<Preview>
  <Story name="full navbar alignment example">
    {() => {
      return (
        <div style={{ minHeight: "250px" }}>
          <NavigationBar>
            <SageIcon style={{ alignSelf: "center" }} />
            <Box>
              <VerticalDivider displayInline pr={0} />
            </Box>
            <Menu display="flex" flex="1">
              <MenuItem flex="1" onClick={() => {}} submenu="Menu Item One">
                <MenuItem href="#">Item Submenu One</MenuItem>
                <MenuItem href="#">Item Submenu Two</MenuItem>
                <MenuDivider />
                <MenuItem icon="settings" href="#">
                  Item Submenu Three
                </MenuItem>
                <MenuItem href="#">Item Submenu Four</MenuItem>
              </MenuItem>
              <MenuItem flex="0 0 auto" href="#">
                Menu Item Two
              </MenuItem>
              <MenuItem flex="0 0 auto" submenu="Menu Item Three">
                <MenuItem href="#">Item Submenu One</MenuItem>
                <MenuItem href="#">Item Submenu Two</MenuItem>
                <MenuDivider />
                <MenuItem icon="settings" href="#">
                  Item Submenu Three
                </MenuItem>
                <MenuItem href="#">Item Submenu Four</MenuItem>
              </MenuItem>
              <MenuItem flex="0 0 auto" submenu="Menu Item Four">
                <MenuItem onClick={() => {}}>Item Submenu One</MenuItem>
                <MenuItem href="#">Item Submenu Two</MenuItem>
              </MenuItem>
            </Menu>
          </NavigationBar>
        </div>
      );
    }}
  </Story>
</Preview>

### Split submenu into separate component

If you need to split out a submenu into a separate component, it must be done as shown below in order for the keyboard navigation to work as intended.

<Preview>
  <Story
    name="submenu separate component"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const MySubMenu = (
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
        </MenuItem>
      );
      return (
        <div style={{ minHeight: "150px" }}>
          <Menu>
            <MenuItem onClick={() => {}}>Menu Item One</MenuItem>
            <MenuItem href="#">Menu Item Two</MenuItem>
            {MySubMenu}
          </Menu>
        </div>
      );
    }}
  </Story>
</Preview>

### Submenu icon and text alignment

In order to align text and icons within a submenu a `Box` component will need to be used to adjust the margin of the content.

<Preview>
  <Story name="button icon" parameters={{ chromatic: { disable: true } }}>
    <div style={{ minHeight: "250px" }}>
      <Menu menuType="dark">
        <MenuItem icon="settings" submenu="Settings">
          <MenuItem href="#" icon="settings" onClick={() => {}}>
            onClick and Icon
          </MenuItem>
          <MenuItem onClick={() => {}}>
            <Box ml="21px">onClick</Box>
          </MenuItem>
          <MenuDivider />
          <MenuItem icon="settings" href="#">
            href and Icon
          </MenuItem>
          <MenuItem href="#">
            <Box ml="21px">href</Box>
          </MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Scrollable submenu

A scrollable submenu can be added using the `ScrollableBlock` component. This can be used for all of the submenu items, or just a selection, as shown in `Menu Itme Four` below.
Note that only one `ScrollableBlock` can be used within a single submenu.

<Preview>
  <Story
    name="scrollable submenu"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu>
        <MenuItem onClick={() => {}}>Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <ScrollableBlock height="200px">
            <MenuItem href="#">Item Submenu One</MenuItem>
            <MenuItem href="#">Item Submenu Two</MenuItem>
            <MenuItem href="#">Item Submenu Three</MenuItem>
            <MenuItem href="#">Item Submenu Four</MenuItem>
            <MenuItem href="#">Item Submenu Five</MenuItem>
            <MenuItem href="#">Item Submenu Six</MenuItem>
            <MenuItem href="#">Item Submenu Seven</MenuItem>
            <MenuItem href="#">Item Submenu Eight</MenuItem>
            <MenuItem href="#">Item Submenu Nine</MenuItem>
            <MenuItem href="#">Item Submenu Ten</MenuItem>
            <MenuItem href="#">Item Submenu Eleven</MenuItem>
            <MenuItem href="#">Item Submenu Twelve</MenuItem>
          </ScrollableBlock>
        </MenuItem>
        <MenuItem submenu="Menu Item Four">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <ScrollableBlock variant="alternate" height="200px">
            <MenuItem href="#">Item Submenu Three</MenuItem>
            <MenuItem href="#">Item Submenu Four</MenuItem>
            <MenuItem href="#">Item Submenu Five</MenuItem>
            <MenuItem href="#">Item Submenu Six</MenuItem>
            <MenuItem href="#">Item Submenu Seven</MenuItem>
            <MenuItem href="#">Item Submenu Eight</MenuItem>
            <MenuItem href="#">Item Submenu Nine</MenuItem>
            <MenuItem href="#">Item Submenu Ten</MenuItem>
            <MenuItem href="#">Item Submenu Eleven</MenuItem>
            <MenuItem href="#">Item Submenu Twelve</MenuItem>
          </ScrollableBlock>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Scrollable submenu dark

<Preview>
  <Story
    name="scrollable submenu dark"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: "150px" }}>
      <Menu menuType="dark">
        <MenuItem onClick={() => {}}>Menu Item One</MenuItem>
        <MenuItem href="#">Menu Item Two</MenuItem>
        <MenuItem submenu="Menu Item Three">
          <ScrollableBlock height="200px">
            <MenuItem href="#">Item Submenu One</MenuItem>
            <MenuItem href="#">Item Submenu Two</MenuItem>
            <MenuItem href="#">Item Submenu Three</MenuItem>
            <MenuItem href="#">Item Submenu Four</MenuItem>
            <MenuItem href="#">Item Submenu Five</MenuItem>
            <MenuItem href="#">Item Submenu Six</MenuItem>
            <MenuItem href="#">Item Submenu Seven</MenuItem>
            <MenuItem href="#">Item Submenu Eight</MenuItem>
            <MenuItem href="#">Item Submenu Nine</MenuItem>
            <MenuItem href="#">Item Submenu Ten</MenuItem>
            <MenuItem href="#">Item Submenu Eleven</MenuItem>
            <MenuItem href="#">Item Submenu Twelve</MenuItem>
          </ScrollableBlock>
        </MenuItem>
        <MenuItem submenu="Menu Item Four">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuItem href="#">Item Submenu Two</MenuItem>
          <ScrollableBlock variant="alternate" height="200px">
            <MenuItem href="#">Item Submenu Three</MenuItem>
            <MenuItem href="#">Item Submenu Four</MenuItem>
            <MenuItem href="#">Item Submenu Five</MenuItem>
            <MenuItem href="#">Item Submenu Six</MenuItem>
            <MenuItem href="#">Item Submenu Seven</MenuItem>
            <MenuItem href="#">Item Submenu Eight</MenuItem>
            <MenuItem href="#">Item Submenu Nine</MenuItem>
            <MenuItem href="#">Item Submenu Ten</MenuItem>
            <MenuItem href="#">Item Submenu Eleven</MenuItem>
            <MenuItem href="#">Item Submenu Twelve</MenuItem>
          </ScrollableBlock>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

### Submenu with search

<Preview>
  <Story
    name="submenu with search"
    parameters={{ chromatic: { disable: true } }}
  >
    <div style={{ minHeight: 300 }}>
      <Menu menuType="dark">
        <MenuItem submenu="Menu Item Three">
          <MenuItem href="#">Item Submenu One</MenuItem>
          <MenuDivider variant="alternate" size="large" />
          <MenuSegmentTitle variant="alternate">segment title</MenuSegmentTitle>
          <MenuItem variant="alternate">
            <Search placeholder="Dark variant" variant="dark" defaultValue="" />
          </MenuItem>
          <MenuItem variant="alternate" href="#">
            Item Submenu Two
          </MenuItem>
          <MenuItem variant="alternate" href="#">
            Item Submenu Three
          </MenuItem>
        </MenuItem>
      </Menu>
    </div>
  </Story>
</Preview>

## Props

### Menu

`Menu` extends the `Box` component so it also accepts all `Box` props.

<Props of={Menu} />

### MenuItem

`MenuItem` extends the `Box` component so it also accepts all `Box` props.

<Props of={MenuItem} />

### SubmenuBlock

<Props of={SubmenuBlock} />

### MenuDivider

<Props of={MenuDivider} />

### MenuSegmentTitle

<Props of={MenuSegmentTitle} />
