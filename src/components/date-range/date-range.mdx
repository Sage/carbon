import { Meta, ArgTypes, Canvas } from "@storybook/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as DateRangeStories from "./date-range.stories";

<Meta of={DateRangeStories} />

# Date Range

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/4122f0-date-range"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Captures a start and end date.

Used to filter a Table of data according to a start and end date, or to set two dates which are related to each other, for example, a hotel booking.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Validation states](#validation-states)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import DateRange from "carbon-react/lib/components/date-range";
```

## Examples

### Default

<Canvas of={DateRangeStories.DefaultStory} />

### Allow Empty Value

You can pass prop `allowEmptyValue` to start and end `DateInput` using `startDateProps` and `endDateProps`.

<Canvas of={DateRangeStories.AllowEmptyValue} />

### Required

You can use the `required` prop to indicate if the fields are mandatory.

<Canvas of={DateRangeStories.Required} />

### With disabled dates
You can disable dates by using `startDateProps` and `endDateProps`, which allow you to pass properties directly to the start or end date. 
For example, you can set a `minDate` or `maxDate`, or use `pickerProps` with a `disabled` option that accepts a matcher or an array of [matchers](https://daypicker.dev/api/type-aliases/Matcher#example).

<Canvas of={DateRangeStories.WithDisabledDates} />

### Locale override

The examples below illustrates how to override the locale passed into the DateRange component. In this example it has been set up for
the French locale. Required locales can be imported like so `import { fr } from 'date-fns/locale';`

<Canvas of={DateRangeStories.LocaleOverrideExampleImplementation} />

### Locale format override

You can also override the format used to display dates in the date picker via the `dateFormatOverride` property. In the example below, the German locale is used
but the date format has been overridden to `y-m-ddd` as opposed to the default `dd.MM.yyyy`.

<Canvas of={DateRangeStories.LocaleFormatOverrideExampleImplementation} />

### Labels Inline (legacy)

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={DateRangeStories.LabelsInline} />

## Validation States

This component supports input validation, see our [Validations](../?path=/docs/documentation-validations--docs) documentation page for more information.

**Note:** Validation states are applied to individual date inputs to indicate the state of the start and end date separately, this can be achieved by
passing the `startError`, `endError`, `startWarning` and `endWarning` props.

## Props

### Date Range

<ArgTypes of={DateRangeStories} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "date.dateFnsLocale",
      description:
        "The locale object from date-fns, example of implementation can be found [here](#locale-override)",
      type: "func",
      returnType: "date-fns locale object",
    },
    {
      name: "date.ariaLabels.previousMonthButton",
      description:
        "Aria label text for the previous month navigation button in the date picker",
      type: "func",
      returnType: "string",
    },
    {
      name: "date.ariaLabels.nextMonthButton",
      description:
        "Aria label text for the next month navigation button in the date picker",
      type: "func",
      returnType: "string",
    },
  ]}
/>
