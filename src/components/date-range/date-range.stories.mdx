import { useState } from "react";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import DateRange from ".";
import * as stories from "./date-range.stories";

<Meta title="Date Range" parameters={{ info: { disable: true } }} />

# Date Range

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/4122f0-date-range"
  style={{ color: '#007E45', fontWeight: 'bold', textDecoration: 'underline' }}
>
  Product Design System component 
</a>

Captures a start and end date.

Used to filter a Table of data according to a start and end date, or to set two dates which are related to each other, for example, a hotel booking.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import DateRange from "carbon-react/lib/components/date-range";
```

### Default

<Canvas>
  <Story name="default" story={stories.DefaultStory} />
</Canvas>

### LabelsInline

<Canvas>
  <Story name="labelsInline" story={stories.LabelsInline} />
</Canvas>

### Validations

Validation status can be set by passing `startError`, `startWarning`, `startInfo`, `endError`, `endWarning` and `endInfo` props to the component.

Passing a string to these props will display a properly colored border along with a validation icon and tooltip - string value will be displayed as the tooltip message.

Passing a boolean to these props will display only a properly colored border.

For more information check our [Validations](?path=/docs/documentation-validations--page "Validations") documentation page

#### As a string

<Canvas>
  <Story name="validations - string - component" story={stories.ValidationsStringComponent} />
</Canvas>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas>
  <Story
    name="validations - string - with tooltipPosition overriden - component"
    story={stories.ValidationsStringWithTooltipPositionOverriddenComponent}
  />
</Canvas>

#### As a string, displayed on label

<Canvas>
  <Story name="validations - string - label" story={stories.ValidationsStringLabel} />
</Canvas>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas>
  <Story
    name="validations - string - with tooltipPosition overriden - label"
    story={stories.ValidationsStringWithTooltipPositionOverriddenLabel}
  />
</Canvas>

#### New designs validation

Longer validation strings that would exceed the input width will wrap to a new line. Inputs 
should remain aligned but labels may no longer be when a string wraps. Label text that would 
exceed the input widht will also wrap to a new line.

<Canvas>
  <Story name="validations - string - new design" story={stories.ValidationsStringNewDesign} />
</Canvas>

#### As a boolean

<Canvas>
  <Story name="validations - boolean"story={stories.ValidationsBoolean} />
</Canvas>

### Allow Empty Value

You can pass prop `allowEmptyValue` to start and end `DateInput` using `startDateProps` and `endDateProps`.

<Canvas>
  <Story name="allowEmptyValue"story={stories.AllowEmptyValue} />
</Canvas>

### Locale override

The examples below illustrates how to override the locale passed into the DateRange component. In this example it has been set up for
the French locale. Required locales can be imported like so `import { fr } from 'carbon-react/lib/locales/date-fns-locales';`

<Canvas>
  <Story
    name="locale override - example implementation"story={stories.LocaleOverrideExampleImplementation} />
</Canvas>

## Props

### Date Range

<StyledSystemProps of={DateRange} noHeader margin />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "date.dateFnsLocale",
      description:
        "The locale object from date-fns, example of implementation can be found [here](#locale-override)",
      type: "func",
      returnType: "date-fns locale object",
    },
    {
      name: "date.ariaLabels.previousMonthButton",
      description:
        "Aria label text for the previous month navigation button in the date picker",
      type: "func",
      returnType: "string",
    },
    {
      name: "date.ariaLabels.nextMonthButton",
      description:
        "Aria label text for the next month navigation button in the date picker",
      type: "func",
      returnType: "string",
    }
  ]}
/>
