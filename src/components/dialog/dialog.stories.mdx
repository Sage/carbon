import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import Dialog from '.';
import Button from '../button';
import Form from '../form';
import Textbox from '../../__experimental__/components/textbox';

<Meta
  title="Dialog"
  parameters={{ info: { disable: true }}}
/>

# Dialog
A dialog box overlaid on top of any page.

Useful to perform an action in context without navigating the user to a separate page.

Several pre-set widths are available - the height of the dialog will flex to fit the content. It’s best to avoid dialogs that are taller than the user’s viewport height. Typical user viewport heights can be as little as 650 pixels.

Choose whether a dark tint is applied behind the dialog which helps to focus the user on the dialog.

A configuration shows a close icon at the top right of the Dialog. Sometimes users are more likely to click this than a traditional ‘Cancel’ button.

## Related Components
- Complex task that needs more space? [Try Dialog Full Screen](/?path=/docs/dialog-full-screen--default-story "Dialog Full Screen").
- Need to refer back to the underlying page? [Try Sidebar](/?path=/docs/sidebar--default-story "Sidebar").

## Quick Start

Import the component and use as shown below:

```jsx
import Dialog from "carbon-react/lib/components/dialog";

const MyComponent = ({ isOpen, handleClose }) => (
  <Dialog
    open={ isOpen }
    onCancel={ handleClose }
    title="Title"
    subtitle="Subtitle"
  >
    Dialog content
  </Dialog>
);
```

### Default

<Preview>
  <Story name="default" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open Dialog
          </Button>
          <Dialog
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="Title"
            subtitle="Subtitle"
          >
            <Form
              stickyFooter={ true }
              leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
              saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
            >
              <div>This is an example of a dialog with a Form as content</div>
              <Textbox label='First Name' />
              <Textbox label='Middle Name' />
              <Textbox label='Surname' />
              <Textbox label='Birth Place' />
              <Textbox label='Favourite Colour' />
              <Textbox label='Address' />
            </Form>
          </Dialog>
        </>
      )
    }}
  </Story>
</Preview>

## Props:

### Dialog

<Props of={Dialog} />
