import { Meta, Props, Preview, Story } from "@storybook/addon-docs";
import { useEffect, useLayoutEffect, useState, useRef } from "react";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import {
  FlatTable,
  FlatTableHead,
  FlatTableBody,
  FlatTableRow,
  FlatTableHeader,
  FlatTableRowHeader,
  FlatTableCell,
  FlatTableCheckbox,
  Sort,
  FlatTableBodyDraggable,
} from ".";
import BatchSelection from "../batch-selection";
import IconButton from "../icon-button";
import Icon from "../icon";
import Textbox from "../textbox";
import Pager from "../pager";
import {
  ActionPopover,
  ActionPopoverItem,
  ActionPopoverMenu,
} from "../action-popover";
import { DrawerSidebarContext } from "../drawer";
import Box from "../box";
import Button from "../button";

<Meta title="Flat Table" parameters={{ info: { disable: true } }} />

# Flat Table

Logically structure content in a grid for the user to enter, view, or work with.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

Import all the necessary components from the flat table folder

```javascript
import {
  FlatTable,
  FlatTableHead,
  FlatTableBody,
  FlatTableRow,
  FlatTableHeader,
  FlatTableRowHeader,
  FlatTableCell,
  FlatTableCheckbox,
  Sort,
} from "carbon-react/lib/components/flat-table";
```

## Examples

### Default

<Preview>
  <Story name="default">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With row headers

Any cells preceding the `FlatTableRowHeader`s will automatically also be made sticky as seen in the example below.

<Preview>
  <Story name="with row header" parameters={{ chromatic: { disable: true } }}>
    <div style={{ width: "380px", overflowX: "auto" }}>
      <FlatTable>
        <FlatTableHead>
          <FlatTableRow>
            <FlatTableHeader>ID Number</FlatTableHeader>
            <FlatTableRowHeader>Name</FlatTableRowHeader>
            <FlatTableHeader>Location</FlatTableHeader>
            <FlatTableHeader>Relationship Status</FlatTableHeader>
            <FlatTableHeader>Dependents</FlatTableHeader>
          </FlatTableRow>
        </FlatTableHead>
        <FlatTableBody>
          <FlatTableRow>
            <FlatTableCell>000001</FlatTableCell>
            <FlatTableRowHeader>John Doe</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>000002</FlatTableCell>
            <FlatTableRowHeader>Jane Doe</FlatTableRowHeader>
            <FlatTableCell>York</FlatTableCell>
            <FlatTableCell>Married</FlatTableCell>
            <FlatTableCell>2</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>000003</FlatTableCell>
            <FlatTableRowHeader>John Smith</FlatTableRowHeader>
            <FlatTableCell>Edinburgh</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>1</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>000004</FlatTableCell>
            <FlatTableRowHeader>Jane Smith</FlatTableRowHeader>
            <FlatTableCell>Newcastle</FlatTableCell>
            <FlatTableCell>Married</FlatTableCell>
            <FlatTableCell>5</FlatTableCell>
          </FlatTableRow>
        </FlatTableBody>
      </FlatTable>
    </div>
  </Story>
</Preview>

### With custom cell paddings

Padding can be set on each cell individually by using the spacing props syntax. Check prop tables at the bottom of this document for more information.

<Preview>
  <Story name="with custom cell paddings">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader px={1} py={2}>
            Name
          </FlatTableHeader>
          <FlatTableHeader px={2} py={2}>
            Location
          </FlatTableHeader>
          <FlatTableHeader px={3} py={2}>
            Relationship Status
          </FlatTableHeader>
          <FlatTableHeader px={4} py={2}>
            Dependents
          </FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        {[1, 2, 3, 4].map((key) => (
          <FlatTableRow key={key}>
            <FlatTableCell px={key}>John Doe</FlatTableCell>
            <FlatTableCell pl={key}>London</FlatTableCell>
            <FlatTableCell p={key}>Single</FlatTableCell>
            <FlatTableCell pl={key}>5</FlatTableCell>
          </FlatTableRow>
        ))}
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With custom column width

Column width can be set by passing number as a `width` prop to the column header or cell component.
**Column width can't be smaller than the sum of horizontal cell padding and content width.**

<Preview>
  <Story name="with custom column width">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader width={80}>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader width={200}>Notes</FlatTableHeader>
          <FlatTableHeader width={40} px={1}>
            <Icon color="white" type="settings" />
          </FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        {[1, 2, 3, 4].map((key) => (
          <FlatTableRow key={key}>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>
              <Textbox placeholder="Notes for John Doe" size="small" />
            </FlatTableCell>
            <FlatTableCell px={1}>
              <ActionPopover>
                <ActionPopoverItem onClick={() => {}} icon="graph">
                  Business
                </ActionPopoverItem>
                <ActionPopoverItem onClick={() => {}} icon="email">
                  Email Invoice
                </ActionPopoverItem>
              </ActionPopover>
            </FlatTableCell>
          </FlatTableRow>
        ))}
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With custom row background color

Setting a custom background color will also override hover, highlight and row selection colors.

<Preview>
  <Story name="with custom row background color">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableRowHeader>No.</FlatTableRowHeader>
          <FlatTableHeader />
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow bgColor="#B1D345">
          <FlatTableRowHeader>1</FlatTableRowHeader>
          <FlatTableCheckbox ariaLabelledBy="ft-row-1-cell-1 ft-row-1-cell-2 ft-row-1-cell-3" />
          <FlatTableCell id="ft-row-1-cell-1">John Doe</FlatTableCell>
          <FlatTableCell id="ft-row-1-cell-2">London</FlatTableCell>
          <FlatTableCell id="ft-row-1-cell-3">Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableRowHeader>2</FlatTableRowHeader>
          <FlatTableCheckbox ariaLabelledBy="ft-row-2-cell-1 ft-row-2-cell-2 ft-row-2-cell-3" />
          <FlatTableCell id="ft-row-2-cell-1">Jane Doe</FlatTableCell>
          <FlatTableCell id="ft-row-2-cell-2">York</FlatTableCell>
          <FlatTableCell id="ft-row-2-cell-3">Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow bgColor="#B1D345">
          <FlatTableRowHeader>3</FlatTableRowHeader>
          <FlatTableCheckbox ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3" />
          <FlatTableCell id="ft-row-3-cell-1">John Smith</FlatTableCell>
          <FlatTableCell id="ft-row-3-cell-2">Edinburgh</FlatTableCell>
          <FlatTableCell id="ft-row-3-cell-3">Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableRowHeader>4</FlatTableRowHeader>
          <FlatTableCheckbox ariaLabelledBy="ft-row-4-cell-1 ft-row-4-cell-2 ft-row-4-cell-3" />
          <FlatTableCell id="ft-row-4-cell-1">Jane Smith</FlatTableCell>
          <FlatTableCell id="ft-row-4-cell-2">Newcastle</FlatTableCell>
          <FlatTableCell id="ft-row-4-cell-3">Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With custom horizontal border size

<Preview>
  <Story name="with custom horizontal border size">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow horizontalBorderSize="medium">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow horizontalBorderSize="large">
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With custom horizontal border color

<Preview>
  <Story name="with custom horizontal border color">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow horizontalBorderColor="goldTint10">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow horizontalBorderColor="blue">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow horizontalBorderColor="#000">
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With custom vertical borders

<Preview>
  <Story name="with custom vertical borders">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader verticalBorder="small" verticalBorderColor="#335CDC">
            Name
          </FlatTableHeader>
          <FlatTableHeader
            verticalBorder="medium"
            verticalBorderColor="goldTint10"
          >
            Location
          </FlatTableHeader>
          <FlatTableHeader verticalBorder="large">
            Relationship Status
          </FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell verticalBorder="small" verticalBorderColor="#335CDC">
            John Doe
          </FlatTableCell>
          <FlatTableCell
            verticalBorder="medium"
            verticalBorderColor="goldTint10"
          >
            London
          </FlatTableCell>
          <FlatTableCell verticalBorder="large">Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell verticalBorder="small" verticalBorderColor="#335CDC">
            Jane Doe
          </FlatTableCell>
          <FlatTableCell
            verticalBorder="medium"
            verticalBorderColor="goldTint10"
          >
            York
          </FlatTableCell>
          <FlatTableCell verticalBorder="large">Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell verticalBorder="small" verticalBorderColor="#335CDC">
            John Smith
          </FlatTableCell>
          <FlatTableCell
            verticalBorder="medium"
            verticalBorderColor="goldTint10"
          >
            Edinburgh
          </FlatTableCell>
          <FlatTableCell verticalBorder="large">Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell verticalBorder="small" verticalBorderColor="#335CDC">
            Jane Smith
          </FlatTableCell>
          <FlatTableCell
            verticalBorder="medium"
            verticalBorderColor="goldTint10"
          >
            Newcastle
          </FlatTableCell>
          <FlatTableCell verticalBorder="large">Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With alternative header background

<Preview>
  <Story name="with alternative header background">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader rowspan="2">Name</FlatTableHeader>
          <FlatTableHeader colspan="2">Location</FlatTableHeader>
          <FlatTableHeader rowspan="2">Relationship Status</FlatTableHeader>
          <FlatTableHeader rowspan="2">Dependents</FlatTableHeader>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableHeader alternativeBgColor>City</FlatTableHeader>
          <FlatTableHeader alternativeBgColor>Country</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>England</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>England</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Scotland</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>England</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With truncated cell content

When setting column widths it is also possible to set the content to `truncate`: this will prevent the content from wrapping
and add ellipsis to any content that overflows the given width. By default the `title` will be set to the children if it
is a string. However, if the passed children are not a string it is possible to override it by passing in a different
`title` string.

<Preview>
  <Story name="with truncated cell content">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Notes</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        {[1, 2, 3, 4].map((key) => (
          <FlatTableRow key={key}>
            <FlatTableCell width={60} pr={0} truncate>
              John Doe
            </FlatTableCell>
            <FlatTableCell width={50} pr={0} truncate title="Alternate Title">
              London
            </FlatTableCell>
            <FlatTableCell>
              <Textbox size="small" aria-label="textbox" />
            </FlatTableCell>
          </FlatTableRow>
        ))}
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With stickyHead prop set to true

It is possible to have one or any number of header rows set to sticky.

<Preview>
  <Story name="with sticky head" parameters={{ chromatic: { disable: true } }}>
    <div style={{ height: "150px" }}>
      <FlatTable hasStickyHead>
        <FlatTableHead>
          <FlatTableRow>
            <FlatTableHeader>Name</FlatTableHeader>
            <FlatTableHeader>Location</FlatTableHeader>
            <FlatTableHeader>Relationship Status</FlatTableHeader>
            <FlatTableHeader>Dependents</FlatTableHeader>
          </FlatTableRow>
        </FlatTableHead>
        <FlatTableBody>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>Jane Doe</FlatTableCell>
            <FlatTableCell>York</FlatTableCell>
            <FlatTableCell>Married</FlatTableCell>
            <FlatTableCell>2</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Smith</FlatTableCell>
            <FlatTableCell>Edinburgh</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>1</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>Jane Smith</FlatTableCell>
            <FlatTableCell>Newcastle</FlatTableCell>
            <FlatTableCell>Married</FlatTableCell>
            <FlatTableCell>5</FlatTableCell>
          </FlatTableRow>
        </FlatTableBody>
      </FlatTable>
    </div>
  </Story>
</Preview>

### With stickyHead, rowSpan and colspan

Is it possible to combine the `stickyHead` prop along with the `rowSpan` and `colspan`props.

<Preview>
  <Story name="with stickyHead rowSpan and colspan">
    <div
      style={{
        height: "380px",
        width: "310px",
        overflowX: "auto",
      }}
    >
      <FlatTable hasStickyHead>
        <FlatTableHead>
          <FlatTableRow>
            <FlatTableHeader rowSpan={2}>Name</FlatTableHeader>
            <FlatTableRowHeader rowSpan={2}>Code</FlatTableRowHeader>
            <FlatTableHeader colspan={2}>Jun 21</FlatTableHeader>
            <FlatTableHeader rowSpan={2}></FlatTableHeader>
            <FlatTableHeader colspan={2}>YTD</FlatTableHeader>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableHeader>Debit</FlatTableHeader>
            <FlatTableHeader>Credit</FlatTableHeader>
            <FlatTableHeader>Debit</FlatTableHeader>
            <FlatTableHeader>Credit</FlatTableHeader>
          </FlatTableRow>
        </FlatTableHead>
        <FlatTableBody>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
          <FlatTableRow>
            <FlatTableCell>John Doe</FlatTableCell>
            <FlatTableRowHeader>000001</FlatTableRowHeader>
            <FlatTableCell>London</FlatTableCell>
            <FlatTableCell>Single</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
            <FlatTableCell>0</FlatTableCell>
          </FlatTableRow>
        </FlatTableBody>
      </FlatTable>
    </div>
  </Story>
</Preview>

### With stickyFooter prop set to true

<Preview>
  <Story
    name="with sticky footer"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const rows = [
        <FlatTableRow key="0">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="1">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="2">
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="3">
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="4">
          <FlatTableCell>Liz Anya</FlatTableCell>
          <FlatTableCell>Stoke</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="5">
          <FlatTableCell>Karl Ickbred</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
      ];
      const [recordsRange, setRecordsRange] = useState({ start: 0, end: 5 });
      const [currentPage, setCurrentPage] = useState(1);
      const renderRows = () => {
        const { start, end } = recordsRange;
        if (start < 0) return rows;
        if (end > rows.length) return rows.slice(start, rows.length);
        return rows.slice(start, end);
      };
      const handlePagination = (newPage, newPageSize) => {
        const start = (newPage - 1) * newPageSize;
        const end = start + newPageSize;
        setRecordsRange({ start, end });
        setCurrentPage(newPage);
      };
      return (
        <div style={{ height: "220px", marginBottom: "16px" }}>
          <FlatTable
            hasStickyHead
            hasStickyFooter
            footer={
              <Pager
                totalRecords={rows.length}
                showPageSizeSelection
                pageSize={5}
                currentPage={currentPage}
                onPagination={(next, size) => handlePagination(next, size)}
                pageSizeSelectionOptions={[
                  { id: "1", name: 1 },
                  { id: "5", name: 5 },
                ]}
              />
            }
          >
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>{renderRows()}</FlatTableBody>
          </FlatTable>
        </div>
      );
    }}
  </Story>
</Preview>

In this example of FlatTable with `stickyFooter`, FlatTable has been placed inside of a `div` with a height
of `220px`. There is not enough data to fill the flatTable but the style remains consistent and the footer
remains sticky.

<Preview>
  <Story
    name="with sticky footer inside of larger div"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const rows = [
        <FlatTableRow key="0">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="1">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
      ];
      const [recordsRange, setRecordsRange] = useState({ start: 0, end: 5 });
      const [currentPage, setCurrentPage] = useState(1);
      const renderRows = () => {
        const { start, end } = recordsRange;
        if (start < 0) return rows;
        if (end > rows.length) return rows.slice(start, rows.length);
        return rows.slice(start, end);
      };
      const handlePagination = (newPage, newPageSize) => {
        const start = (newPage - 1) * newPageSize;
        const end = start + newPageSize;
        setRecordsRange({ start, end });
        setCurrentPage(newPage);
      };
      return (
        <div style={{ height: "220px", marginBottom: "16px" }}>
          <FlatTable
            hasStickyHead
            hasStickyFooter
            footer={
              <Pager
                totalRecords={rows.length}
                showPageSizeSelection
                pageSize={5}
                currentPage={currentPage}
                onPagination={(next, size) => handlePagination(next, size)}
                pageSizeSelectionOptions={[
                  { id: "1", name: 1 },
                  { id: "5", name: 5 },
                ]}
              />
            }
          >
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>{renderRows()}</FlatTableBody>
          </FlatTable>
        </div>
      );
    }}
  </Story>
</Preview>

### With hasMaxHeight

By using the `hasMaxHeight` prop you can automatically apply a max-height of 100% to the FlatTable.

<Preview>
  <Story
    name="with hasMaxHeight"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const rows = [
        <FlatTableRow key="0">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="1">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
      ];
      const [recordsRange, setRecordsRange] = useState({ start: 0, end: 5 });
      const [currentPage, setCurrentPage] = useState(1);
      const renderRows = () => {
        const { start, end } = recordsRange;
        if (start < 0) return rows;
        if (end > rows.length) return rows.slice(start, rows.length);
        return rows.slice(start, end);
      };
      const handlePagination = (newPage, newPageSize) => {
        const start = (newPage - 1) * newPageSize;
        const end = start + newPageSize;
        setRecordsRange({ start, end });
        setCurrentPage(newPage);
      };
      return (
        <div style={{ height: "180px", marginBottom: "16px" }}>
          <FlatTable
            hasMaxHeight
            footer={
              <Pager
                totalRecords={rows.length}
                showPageSizeSelection
                pageSize={5}
                currentPage={currentPage}
                onPagination={(next, size) => handlePagination(next, size)}
                pageSizeSelectionOptions={[
                  { id: "1", name: 1 },
                  { id: "5", name: 5 },
                ]}
              />
            }
          >
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>{renderRows()}</FlatTableBody>
          </FlatTable>
        </div>
      );
    }}
  </Story>
</Preview>

### With clickable rows

<Preview>
  <Story
    name="with clickable rows"
    parameters={{ chromatic: { disable: true } }}
  >
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow onClick={() => {}}>
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow onClick={() => {}}>
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow onClick={() => {}}>
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow onClick={() => {}}>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With zebra stripes

<Preview>
  <Story name="zebra">
    <FlatTable isZebra>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With sorting headers

export const FlatTableSortableStory = (args) => {
  const headDataItems = [
    { name: "client", isActive: false },
    { name: "total", isActive: false },
  ];
  const bodyDataItems = [
    { client: "Jason Atkinson", total: 1349 },
    { client: "Monty Parker", total: 849 },
    { client: "Blake Sutton", total: 3840 },
    { client: "Tyler Webb", total: 280 },
  ];
  const [headData, setHeadData] = useState(headDataItems);
  const [sortType, setSortType] = useState("ascending");
  const [sortValue, setSortValue] = useState();
  const sortByNumber = (dataToSort, sortByValue, type) => {
    const sortedData = dataToSort.sort((a, b) => {
      if (type === "ascending") {
        return a[sortByValue] - b[sortByValue];
      }
      if (type === "descending") {
        return b[sortByValue] - a[sortByValue];
      }
      return 0;
    });
    return sortedData;
  };
  const sortByString = (dataToSort, sortByValue, type) => {
    const sortedData = dataToSort.sort((a, b) => {
      const nameA = a[sortByValue].toUpperCase();
      const nameB = b[sortByValue].toUpperCase();
      if (type === "ascending") {
        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
      }
      if (type === "descending") {
        if (nameA > nameB) {
          return -1;
        }
        if (nameA < nameB) {
          return 1;
        }
      }
      return 0;
    });
    return sortedData;
  };
  const handleClick = (value) => {
    const tempHeadData = headData;
    tempHeadData.forEach((item) => {
      item.isActive = false;
      if (item.name === value) {
        item.isActive = !item.isActive;
      }
    });
    setSortValue(value);
    setSortType(sortType === "ascending" ? "descending" : "ascending");
    setHeadData([...tempHeadData]);
  };
  const renderSortedData = (sortByValue) => {
    let sortedData = bodyDataItems;
    if (typeof bodyDataItems[0][sortByValue] === "string") {
      sortedData = sortByString(sortedData, sortByValue, sortType);
    }
    if (typeof bodyDataItems[0][sortByValue] === "number") {
      sortedData = sortByNumber(sortedData, sortByValue, sortType);
    }
    return sortedData.map((dataItem) => {
      return (
        <FlatTableRow key={dataItem.client}>
          <FlatTableCell>{dataItem.client}</FlatTableCell>
          <FlatTableCell>{dataItem.total}</FlatTableCell>
        </FlatTableRow>
      );
    });
  };
  return (
    <FlatTable {...args}>
      <FlatTableHead>
        <FlatTableRow>
          {headData.map((dataItem) => {
            return (
              <FlatTableHeader key={dataItem.name}>
                <Sort
                  onClick={() => handleClick(dataItem.name)}
                  sortType={dataItem.isActive && sortType}
                >
                  {dataItem.name}
                </Sort>
              </FlatTableHeader>
            );
          })}
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>{renderSortedData(sortValue)}</FlatTableBody>
    </FlatTable>
  );
};

<Preview>
  <Story 
    name="with sorting headers"
    parameters={{
      docs: {
        source: {
          type: "code",
        },
      },
    }}
  >
    {FlatTableSortableStory.bind({})}
  </Story>
</Preview>

### With a cell spanning the whole row

<Preview>
  <Story name="with colspan">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Name</FlatTableHeader>
          <FlatTableHeader>Location</FlatTableHeader>
          <FlatTableHeader>Relationship Status</FlatTableHeader>
          <FlatTableHeader>Dependents</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell colspan="4" align="center">
            No results
          </FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With a cell spanning the whole column

<Preview>
  <Story name="with rowspan">
    <FlatTable>
      <FlatTableHead>
        <FlatTableRow>
          <FlatTableHeader>Parent Name</FlatTableHeader>
          <FlatTableHeader>Child Name</FlatTableHeader>
          <FlatTableHeader>Child Age</FlatTableHeader>
        </FlatTableRow>
      </FlatTableHead>
      <FlatTableBody>
        <FlatTableRow>
          <FlatTableCell rowspan="3">Jane Smith</FlatTableCell>
          <FlatTableCell>Tim Smith</FlatTableCell>
          <FlatTableCell>8</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Chris Smith</FlatTableCell>
          <FlatTableCell>8</FlatTableCell>
        </FlatTableRow>
        <FlatTableRow>
          <FlatTableCell>Alice Smith</FlatTableCell>
          <FlatTableCell>12</FlatTableCell>
        </FlatTableRow>
      </FlatTableBody>
    </FlatTable>
  </Story>
</Preview>

### With Selectable Rows

It is possible to use the selected prop on the FlatTableRow to handle the selection of multiple rows of data.

To take an action across multiple table rows, the user can first select relevant rows with their checkboxes, then apply an action at the top left of the table.

If a given action isn’t available for a single selected item, the option appears disabled. A tooltip may explain why.

If a given action is available for some, but not all, selected rows, then the action is performed, but the user is notified.

Where icons are used for batch actions, they have text labels too, or tooltips to make their function clear. There are always confirmation dialogs for destructive actions, or those difficult to undo.

<Preview>
  <Story name="selectable rows" parameters={{ chromatic: { disable: true } }}>
    {() => {
      const [selectAll, setSelectAll] = useState(false);
      const [selectedRows, setSelectedRows] = useState({
        one: false,
        two: false,
        three: false,
        four: false,
      });
      const handleSelectAllRows = () => {
        const newState = {};
        Object.keys(selectedRows).forEach(
          (key) => (newState[key] = !selectAll)
        );
        setSelectedRows({ ...newState });
        setSelectAll(!selectAll);
      };
      const handleSelectRow = (id) => {
        if (selectedRows[id]) {
          setSelectAll(false);
        }
        setSelectedRows({ ...selectedRows, [id]: !selectedRows[id] });
      };
      const selectedCount = Object.keys(selectedRows).filter((key) =>
        Boolean(selectedRows[key])
      ).length;
      return (
        <>
          <BatchSelection
            disabled={selectedCount === 0}
            selectedCount={selectedCount}
          >
            <IconButton aria-label="csv" onAction={() => {}}>
              <Icon type="csv" />
            </IconButton>
            <IconButton aria-label="delete" onAction={() => {}}>
              <Icon type="bin" />
            </IconButton>
            <IconButton aria-label="pdf" onAction={() => {}}>
              <Icon type="pdf" />
            </IconButton>
          </BatchSelection>
          <FlatTable>
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-header-1 ft-header-2 ft-header-3 ft-header-4"
                  onClick={(e) => e.stopPropagation()}
                  as="th"
                  checked={selectAll}
                  onChange={() => handleSelectAllRows()}
                />
                <FlatTableHeader id="ft-header-1">Name</FlatTableHeader>
                <FlatTableHeader id="ft-header-2">Location</FlatTableHeader>
                <FlatTableHeader id="ft-header-3">Relationship Status</FlatTableHeader>
                <FlatTableHeader id="ft-header-4">Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>
              <FlatTableRow selected={selectedRows.one}>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-1-cell-1 ft-row-1-cell-2 ft-row-1-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.one}
                  onChange={() => handleSelectRow("one")}
                />
                <FlatTableCell id="ft-row-1-cell-1">John Doe</FlatTableCell>
                <FlatTableCell id="ft-row-1-cell-2">London</FlatTableCell>
                <FlatTableCell id="ft-row-1-cell-3">Single</FlatTableCell>
                <FlatTableCell>0</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow selected={selectedRows.two}>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-2-cell-1 ft-row-2-cell-2 ft-row-2-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.two}
                  onChange={() => handleSelectRow("two")}
                />
                <FlatTableCell id="ft-row-2-cell-1">Jane Doe</FlatTableCell>
                <FlatTableCell id="ft-row-2-cell-2">York</FlatTableCell>
                <FlatTableCell id="ft-row-2-cell-3">Married</FlatTableCell>
                <FlatTableCell>2</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow selected={selectedRows.three}>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.three}
                  onChange={() => handleSelectRow("three")}
                />
                <FlatTableCell id="ft-row-3-cell-1">John Smith</FlatTableCell>
                <FlatTableCell id="ft-row-3-cell-2">Edinburgh</FlatTableCell>
                <FlatTableCell id="ft-row-3-cell-3">Single</FlatTableCell>
                <FlatTableCell>1</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow selected={selectedRows.four}>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.four}
                  onChange={() => handleSelectRow("four")}
                />
                <FlatTableCell id="ft-row-4-cell-1">Jane Smith</FlatTableCell>
                <FlatTableCell id="ft-row-4-cell-2">Newcastle</FlatTableCell>
                <FlatTableCell id="ft-row-4-cell-3">Married</FlatTableCell>
                <FlatTableCell>5</FlatTableCell>
              </FlatTableRow>
            </FlatTableBody>
          </FlatTable>
        </>
      );
    }}
  </Story>
</Preview>

### With Highlightable Rows

It is possible to utilise the selected and onClick props on the FlatTableRow to highlight single rows of data.

<Preview>
  <Story
    name="highlightable rows"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const [highlightedRow, setHighlightedRow] = useState("");
      const handleHighlightRow = (id) => {
        if (highlightedRow === id) {
          setHighlightedRow("");
        } else {
          setHighlightedRow(id);
        }
      };
      return (
        <FlatTable>
          <FlatTableHead>
            <FlatTableRow>
              <FlatTableHeader>Name</FlatTableHeader>
              <FlatTableHeader>Location</FlatTableHeader>
              <FlatTableHeader>Relationship Status</FlatTableHeader>
              <FlatTableHeader>Dependents</FlatTableHeader>
            </FlatTableRow>
          </FlatTableHead>
          <FlatTableBody>
            <FlatTableRow
              onClick={() => handleHighlightRow("one")}
              highlighted={highlightedRow === "one"}
            >
              <FlatTableCell>John Doe</FlatTableCell>
              <FlatTableCell>London</FlatTableCell>
              <FlatTableCell>Single</FlatTableCell>
              <FlatTableCell>0</FlatTableCell>
            </FlatTableRow>
            <FlatTableRow
              onClick={() => handleHighlightRow("two")}
              highlighted={highlightedRow === "two"}
            >
              <FlatTableCell>Jane Doe</FlatTableCell>
              <FlatTableCell>York</FlatTableCell>
              <FlatTableCell>Married</FlatTableCell>
              <FlatTableCell>2</FlatTableCell>
            </FlatTableRow>
            <FlatTableRow
              onClick={() => handleHighlightRow("three")}
              highlighted={highlightedRow === "three"}
            >
              <FlatTableCell>John Smith</FlatTableCell>
              <FlatTableCell>Edinburgh</FlatTableCell>
              <FlatTableCell>Single</FlatTableCell>
              <FlatTableCell>1</FlatTableCell>
            </FlatTableRow>
            <FlatTableRow
              onClick={() => handleHighlightRow("four")}
              highlighted={highlightedRow === "four"}
            >
              <FlatTableCell>Jane Smith</FlatTableCell>
              <FlatTableCell>Newcastle</FlatTableCell>
              <FlatTableCell>Married</FlatTableCell>
              <FlatTableCell>5</FlatTableCell>
            </FlatTableRow>
          </FlatTableBody>
        </FlatTable>
      );
    }}
  </Story>
</Preview>

### With Selectable and Highlightable Rows

It is also possible to integrate selection of multiple rows and the highlighting of single rows.

<Preview>
  <Story
    name="selectable and highlightable rows"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const [selectAll, setSelectAll] = useState(false);
      const [selectedRows, setSelectedRows] = useState({
        one: false,
        two: false,
        three: false,
        four: false,
      });
      const [highlightedRow, setHighlightedRow] = useState("");
      const handleSelectAllRows = () => {
        const newState = {};
        Object.keys(selectedRows).forEach(
          (key) => (newState[key] = !selectAll)
        );
        setSelectedRows({ ...newState });
        setSelectAll(!selectAll);
      };
      const handleSelectRow = (id) => {
        if (selectedRows[id]) {
          setSelectAll(false);
        }
        setSelectedRows({ ...selectedRows, [id]: !selectedRows[id] });
      };
      const selectedCount = Object.keys(selectedRows).filter((key) =>
        Boolean(selectedRows[key])
      ).length;
      const handleHighlightRow = (id) => {
        if (highlightedRow === id) {
          setHighlightedRow("");
        } else {
          setHighlightedRow(id);
        }
      };
      return (
        <>
          <BatchSelection
            disabled={selectedCount === 0}
            selectedCount={selectedCount}
          >
            <IconButton aria-label="csv" onAction={() => {}}>
              <Icon type="csv" />
            </IconButton>
            <IconButton aria-label="delete" onAction={() => {}}>
              <Icon type="bin" />
            </IconButton>
            <IconButton aria-label="pdf" onAction={() => {}}>
              <Icon type="pdf" />
            </IconButton>
          </BatchSelection>
          <FlatTable>
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableCheckbox
                  ariaLabelledBy="ft-header-1 ft-header-2 ft-header-3 ft-header-4"
                  onClick={(e) => e.stopPropagation()}
                  as="th"
                  checked={selectAll}
                  onChange={() => handleSelectAllRows()}
                />
                <FlatTableHeader id="ft-header-1">Name</FlatTableHeader>
                <FlatTableHeader id="ft-header-2">Location</FlatTableHeader>
                <FlatTableHeader id="ft-header-3">Relationship Status</FlatTableHeader>
                <FlatTableHeader id="ft-header-4">Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>
              <FlatTableRow
                onClick={() => handleHighlightRow("one")}
                selected={selectedRows.one}
                highlighted={highlightedRow === "one"}
              >
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-1-cell-1 ft-row-1-cell-2 ft-row-1-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.one}
                  onChange={() => handleSelectRow("one")}
                />
                <FlatTableCell id="ft-row-1-cell-1">John Doe</FlatTableCell>
                <FlatTableCell id="ft-row-1-cell-2">London</FlatTableCell>
                <FlatTableCell id="ft-row-1-cell-3">Single</FlatTableCell>
                <FlatTableCell>0</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow
                onClick={() => handleHighlightRow("two")}
                selected={selectedRows.two}
                highlighted={highlightedRow === "two"}
              >
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-2-cell-1 ft-row-2-cell-2 ft-row-2-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.two}
                  onChange={() => handleSelectRow("two")}
                />
                <FlatTableCell id="ft-row-2-cell-1">Jane Doe</FlatTableCell>
                <FlatTableCell id="ft-row-2-cell-2">York</FlatTableCell>
                <FlatTableCell id="ft-row-2-cell-3">Married</FlatTableCell>
                <FlatTableCell>2</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow
                onClick={() => handleHighlightRow("three")}
                selected={selectedRows.three}
                highlighted={highlightedRow === "three"}
              >
               <FlatTableCheckbox
                  ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.three}
                  onChange={() => handleSelectRow("three")}
                />
                <FlatTableCell id="ft-row-3-cell-1">John Smith</FlatTableCell>
                <FlatTableCell id="ft-row-3-cell-2">Edinburgh</FlatTableCell>
                <FlatTableCell id="ft-row-3-cell-3">Single</FlatTableCell>
                <FlatTableCell>1</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow
                onClick={() => handleHighlightRow("four")}
                selected={selectedRows.four}
                highlighted={highlightedRow === "four"}
              >
                <FlatTableCheckbox
                  ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                  onClick={(e) => e.stopPropagation()}
                  checked={selectedRows.four}
                  onChange={() => handleSelectRow("four")}
                />
                <FlatTableCell id="ft-row-4-cell-1">Jane Smith</FlatTableCell>
                <FlatTableCell id="ft-row-4-cell-2">Newcastle</FlatTableCell>
                <FlatTableCell id="ft-row-4-cell-3">Married</FlatTableCell>
                <FlatTableCell>5</FlatTableCell>
              </FlatTableRow>
            </FlatTableBody>
          </FlatTable>
        </>
      );
    }}
  </Story>
</Preview>

### With Pagination

If pagination is needed, this can be shown at the bottom of the table.

Balance performance concerns with the convenience of the user being able to see more data - we suggest giving the user the option of showing 25, 50, and 100 table rows before pagination, with a default of 50. Whatever the user selects, make this sticky per user, per table, and between sessions.

<Preview>
  <Story name="paginated">
    {() => {
      const rows = [
        <FlatTableRow key="0">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="1">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="2">
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>1</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="3">
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>5</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="4">
          <FlatTableCell>Liz Anya</FlatTableCell>
          <FlatTableCell>Stoke</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>2</FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="5">
          <FlatTableCell>Karl Ickbred</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>0</FlatTableCell>
        </FlatTableRow>,
      ];
      const [recordsRange, setRecordsRange] = useState({ start: 0, end: 5 });
      const [currentPage, setCurrentPage] = useState(1);
      const renderRows = () => {
        const { start, end } = recordsRange;
        if (start < 0) return rows;
        if (end > rows.length) return rows.slice(start, rows.length);
        return rows.slice(start, end);
      };
      const handlePagination = (newPage, newPageSize) => {
        const start = (newPage - 1) * newPageSize;
        const end = start + newPageSize;
        setRecordsRange({ start, end });
        setCurrentPage(newPage);
      };
      return (
        <>
          <FlatTable
            footer={
              <Pager
                totalRecords={rows.length}
                showPageSizeSelection
                pageSize={5}
                currentPage={currentPage}
                onPagination={(next, size) => handlePagination(next, size)}
                pageSizeSelectionOptions={[
                  { id: "1", name: 1 },
                  { id: "5", name: 5 },
                ]}
              />
            }
          >
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>{renderRows()}</FlatTableBody>
          </FlatTable>
        </>
      );
    }}
  </Story>
</Preview>

### Paginated with sticky header

When using the `Pager` and a sticky `FlatTableHead` some of the child elements may have style properties that cause the
overflow to exceed the height of the table. In the example below, the `ActionPopoverMenu` has absolute positioning meaning
it is accounted for in the overflow. To avoid this it is possible to use the `placement` prop to render the menu on `top`
of the button control.

<Preview>
  <Story
    name="paginated with sticky header"
    parameters={{ info: { disable: true } }}
  >
    {() => {
      const [placementUp, setPlacementUp] = useState(true);
      const rows = [
        <FlatTableRow key="0">
          <FlatTableCell>John Doe</FlatTableCell>
          <FlatTableCell>London</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>
            <ActionPopover>
              <ActionPopoverItem onClick={() => {}}>action</ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="1">
          <FlatTableCell>Jane Doe</FlatTableCell>
          <FlatTableCell>York</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>
            <ActionPopover>
              <ActionPopoverItem
                onClick={() => {}}
                submenu={
                  <ActionPopoverMenu>
                    <ActionPopoverItem onClick={() => {}}>
                      CSV
                    </ActionPopoverItem>
                    <ActionPopoverItem onClick={() => {}}>
                      PDF
                    </ActionPopoverItem>
                  </ActionPopoverMenu>
                }
              >
                action
              </ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="2">
          <FlatTableCell>John Smith</FlatTableCell>
          <FlatTableCell>Edinburgh</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>
            <ActionPopover>
              <ActionPopoverItem onClick={() => {}}>action</ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="3">
          <FlatTableCell>Jane Smith</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Married</FlatTableCell>
          <FlatTableCell>
            <ActionPopover placement={placementUp ? "top" : "bottom"}>
              <ActionPopoverItem onClick={() => {}}>action</ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="4">
          <FlatTableCell>Liz Anya</FlatTableCell>
          <FlatTableCell>Stoke</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>
            <ActionPopover placement={placementUp ? "top" : "bottom"}>
              <ActionPopoverItem
                onClick={() => {}}
                submenu={
                  <ActionPopoverMenu>
                    <ActionPopoverItem onClick={() => {}}>
                      CSV
                    </ActionPopoverItem>
                    <ActionPopoverItem onClick={() => {}}>
                      PDF
                    </ActionPopoverItem>
                  </ActionPopoverMenu>
                }
              >
                action
              </ActionPopoverItem>
              <ActionPopoverItem
                onClick={() => {}}
                submenu={
                  <ActionPopoverMenu>
                    <ActionPopoverItem onClick={() => {}}>
                      CSV
                    </ActionPopoverItem>
                    <ActionPopoverItem onClick={() => {}}>
                      PDF
                    </ActionPopoverItem>
                  </ActionPopoverMenu>
                }
              >
                action
              </ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
        <FlatTableRow key="5">
          <FlatTableCell>Karl Ickbred</FlatTableCell>
          <FlatTableCell>Newcastle</FlatTableCell>
          <FlatTableCell>Single</FlatTableCell>
          <FlatTableCell>
            <ActionPopover>
              <ActionPopoverItem
                onClick={() => {}}
                submenu={
                  <ActionPopoverMenu>
                    <ActionPopoverItem onClick={() => {}}>
                      CSV
                    </ActionPopoverItem>
                    <ActionPopoverItem onClick={() => {}}>
                      PDF
                    </ActionPopoverItem>
                  </ActionPopoverMenu>
                }
              >
                action
              </ActionPopoverItem>
              <ActionPopoverItem
                onClick={() => {}}
                submenu={
                  <ActionPopoverMenu>
                    <ActionPopoverItem onClick={() => {}}>
                      CSV
                    </ActionPopoverItem>
                    <ActionPopoverItem onClick={() => {}}>
                      PDF
                    </ActionPopoverItem>
                  </ActionPopoverMenu>
                }
              >
                action
              </ActionPopoverItem>
            </ActionPopover>
          </FlatTableCell>
        </FlatTableRow>,
      ];
      const [recordsRange, setRecordsRange] = useState({ start: 0, end: 5 });
      const [currentPage, setCurrentPage] = useState(1);
      const renderRows = () => {
        const { start, end } = recordsRange;
        if (start < 0) return rows;
        if (end > rows.length) return rows.slice(start, rows.length);
        return rows.slice(start, end);
      };
      const handlePagination = (newPage, newPageSize) => {
        const start = (newPage - 1) * newPageSize;
        const end = start + newPageSize;
        setPlacementUp(newPageSize !== 1);
        setRecordsRange({ start, end });
        setCurrentPage(newPage);
      };
      return (
        <div style={{ height: "200px" }}>
          <FlatTable
            hasStickyHead
            hasStickyFooter
            footer={
              <Pager
                totalRecords={rows.length}
                showPageSizeSelection
                pageSize={5}
                currentPage={currentPage}
                onPagination={(next, size) => handlePagination(next, size)}
                pageSizeSelectionOptions={[
                  { id: "1", name: 1 },
                  { id: "5", name: 5 },
                ]}
              />
            }
          >
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>{renderRows()}</FlatTableBody>
          </FlatTable>
        </div>
      );
    }}
  </Story>
</Preview>

### When a child of Sidebar

<Preview>
  <Story
    name="when a child of sidebar"
    parameters={{ chromatic: { disable: true } }}
  >
    {() => {
      const [selectAll, setSelectAll] = useState(false);
      const [selectedRows, setSelectedRows] = useState({
        one: false,
        two: false,
        three: false,
        four: false,
      });
      const [highlightedRow, setHighlightedRow] = useState("");
      const handleSelectAllRows = () => {
        const newState = {};
        Object.keys(selectedRows).forEach(
          (key) => (newState[key] = !selectAll)
        );
        setSelectedRows({ ...newState });
        setSelectAll(!selectAll);
      };
      const handleSelectRow = (id) => {
        if (selectedRows[id]) {
          setSelectAll(false);
        }
        setSelectedRows({ ...selectedRows, [id]: !selectedRows[id] });
      };
      const selectedCount = Object.keys(selectedRows).filter((key) =>
        Boolean(selectedRows[key])
      ).length;
      const handleHighlightRow = (id) => {
        if (highlightedRow === id) {
          setHighlightedRow("");
        } else {
          setHighlightedRow(id);
        }
      };
      return (
        <>
          <BatchSelection
            disabled={selectedCount === 0}
            selectedCount={selectedCount}
          >
            <IconButton aria-label="csv" onAction={() => {}}>
              <Icon type="csv" />
            </IconButton>
            <IconButton aria-label="delete" onAction={() => {}}>
              <Icon type="bin" />
            </IconButton>
            <IconButton aria-label="pdf" onAction={() => {}}>
              <Icon type="pdf" />
            </IconButton>
          </BatchSelection>
          <DrawerSidebarContext.Provider value={{ isInSidebar: true }}>
            <FlatTable>
              <FlatTableHead>
                <FlatTableRow>
                  <FlatTableCheckbox
                    ariaLabelledBy="ft-header-1 ft-header-2 ft-header-3 ft-header-4"
                    onClick={(e) => e.stopPropagation()}
                    as="th"
                    checked={selectAll}
                    onChange={() => handleSelectAllRows()}
                  />
                  <FlatTableHeader id="ft-header-1">Name</FlatTableHeader>
                  <FlatTableHeader id="ft-header-2">Location</FlatTableHeader>
                  <FlatTableHeader id="ft-header-3">Relationship Status</FlatTableHeader>
                  <FlatTableHeader id="ft-header-4">Dependents</FlatTableHeader>
                </FlatTableRow>
              </FlatTableHead>
              <FlatTableBody>
                <FlatTableRow
                  onClick={() => handleHighlightRow("one")}
                  selected={selectedRows.one}
                  highlighted={highlightedRow === "one"}
                >
                  <FlatTableCheckbox
                    ariaLabelledBy="ft-row-1-cell-1 ft-row-1-cell-2 ft-row-1-cell-3"
                    onClick={(e) => e.stopPropagation()}
                    checked={selectedRows.one}
                    onChange={() => handleSelectRow("one")}
                  />
                  <FlatTableCell id="ft-row-1-cell-1">John Doe</FlatTableCell>
                  <FlatTableCell id="ft-row-1-cell-2">London</FlatTableCell>
                  <FlatTableCell id="ft-row-1-cell-3">Single</FlatTableCell>
                  <FlatTableCell>0</FlatTableCell>
                </FlatTableRow>
                <FlatTableRow
                  onClick={() => handleHighlightRow("two")}
                  selected={selectedRows.two}
                  highlighted={highlightedRow === "two"}
                >
                  <FlatTableCheckbox
                    ariaLabelledBy="ft-row-2-cell-1 ft-row-2-cell-2 ft-row-2-cell-3"
                    onClick={(e) => e.stopPropagation()}
                    checked={selectedRows.two}
                    onChange={() => handleSelectRow("two")}
                  />
                  <FlatTableCell id="ft-row-2-cell-1">Jane Doe</FlatTableCell>
                  <FlatTableCell id="ft-row-2-cell-2">York</FlatTableCell>
                  <FlatTableCell id="ft-row-2-cell-3">Married</FlatTableCell>
                  <FlatTableCell>2</FlatTableCell>
                </FlatTableRow>
                <FlatTableRow
                  onClick={() => handleHighlightRow("three")}
                  selected={selectedRows.three}
                  highlighted={highlightedRow === "three"}
                >
                <FlatTableCheckbox
                    ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                    onClick={(e) => e.stopPropagation()}
                    checked={selectedRows.three}
                    onChange={() => handleSelectRow("three")}
                  />
                  <FlatTableCell id="ft-row-3-cell-1">John Smith</FlatTableCell>
                  <FlatTableCell id="ft-row-3-cell-2">Edinburgh</FlatTableCell>
                  <FlatTableCell id="ft-row-3-cell-3">Single</FlatTableCell>
                  <FlatTableCell>1</FlatTableCell>
                </FlatTableRow>
                <FlatTableRow
                  onClick={() => handleHighlightRow("four")}
                  selected={selectedRows.four}
                  highlighted={highlightedRow === "four"}
                >
                  <FlatTableCheckbox
                    ariaLabelledBy="ft-row-3-cell-1 ft-row-3-cell-2 ft-row-3-cell-3"
                    onClick={(e) => e.stopPropagation()}
                    checked={selectedRows.four}
                    onChange={() => handleSelectRow("four")}
                  />
                  <FlatTableCell id="ft-row-4-cell-1">Jane Smith</FlatTableCell>
                  <FlatTableCell id="ft-row-4-cell-2">Newcastle</FlatTableCell>
                  <FlatTableCell id="ft-row-4-cell-3">Married</FlatTableCell>
                  <FlatTableCell>5</FlatTableCell>
                </FlatTableRow>
              </FlatTableBody>
            </FlatTable>
          </DrawerSidebarContext.Provider>
        </>
      );
    }}
  </Story>
</Preview>

## Table Cell Sizes

<Preview>
  <Story name="sizes">
    <div>
      {["compact", "small", "medium", "large", "extraLarge"].map((size) => (
        <Box mb={3}>
          <FlatTable size={size}>
            <FlatTableHead>
              <FlatTableRow>
                <FlatTableHeader>Name</FlatTableHeader>
                <FlatTableHeader>Location</FlatTableHeader>
                <FlatTableHeader>Relationship Status</FlatTableHeader>
                <FlatTableHeader>Dependents</FlatTableHeader>
              </FlatTableRow>
            </FlatTableHead>
            <FlatTableBody>
              <FlatTableRow>
                <FlatTableCell>John Doe</FlatTableCell>
                <FlatTableCell>London</FlatTableCell>
                <FlatTableCell>Single</FlatTableCell>
                <FlatTableCell>0</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow>
                <FlatTableCell>Jane Doe</FlatTableCell>
                <FlatTableCell>York</FlatTableCell>
                <FlatTableCell>Married</FlatTableCell>
                <FlatTableCell>2</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow>
                <FlatTableCell>John Smith</FlatTableCell>
                <FlatTableCell>Edinburgh</FlatTableCell>
                <FlatTableCell>Single</FlatTableCell>
                <FlatTableCell>1</FlatTableCell>
              </FlatTableRow>
              <FlatTableRow>
                <FlatTableCell>Jane Smith</FlatTableCell>
                <FlatTableCell>Newcastle</FlatTableCell>
                <FlatTableCell>Married</FlatTableCell>
                <FlatTableCell>5</FlatTableCell>
              </FlatTableRow>
            </FlatTableBody>
          </FlatTable>
        </Box>
      ))}
    </div>
  </Story>
</Preview>

## Draggable rows

<Preview>
  <Story name="with draggable rows">
    {() => {
      const [state, setState] = useState([
        {
          id: "0",
          name: "UK",
        },
        {
          id: "1",
          name: "Germany",
        },
        {
          id: "2",
          name: "China",
        },
        {
          id: "3",
          name: "US",
        },
      ]);
      return (
        <FlatTable>
          <FlatTableHead>
            <FlatTableRow>
              <FlatTableHeader />
              <FlatTableHeader>Country</FlatTableHeader>
            </FlatTableRow>
          </FlatTableHead>
          <FlatTableBodyDraggable>
            {state.map((row, index) => (
              <FlatTableRow key={row.id} id={row.id} index={index}>
                <FlatTableCell>{row.name}</FlatTableCell>
              </FlatTableRow>
            ))}
          </FlatTableBodyDraggable>
        </FlatTable>
      );
    }}
  </Story>
</Preview>

## Props

### FlatTable

<Props of={FlatTable} />

### FlatTableHead

<Props of={FlatTableHead} />

### FlatTableBody

<Props of={FlatTableBody} />

### FlatTableBodyDraggable

<Props of={FlatTableBodyDraggable} />

### FlatTableRow

<Props of={FlatTableRow} />

### FlatTableHeader

<StyledSystemProps
  of={FlatTableHeader}
  spacing
  defaults={{ py: 1, px: 3 }}
  noHeader
/>

### Sort

<Props of={Sort} />

### FlatTableCell

<StyledSystemProps of={FlatTableCell} spacing noHeader />

### FlatTableRowHeader

<StyledSystemProps
  of={FlatTableRowHeader}
  spacing
  defaults={{ py: "10px", px: 3 }}
  noHeader
/>

### FlatTableCheckbox

<Props of={FlatTableCheckbox} />
