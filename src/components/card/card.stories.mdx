import { useState } from "react";
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import Card from ".";
import CardRow from "./card-row";
import CardFooter from "./card-footer";
import CardColumn from "./card-column";
import Heading from "../heading";
import Link from "../link";
import Typography from "../typography";
import Icon from "../icon";
import Button from "../button";
import Box from "../box";
import IconButton from "../icon-button";
import VerticalDivider from "../vertical-divider";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";

<Meta title="Design System/Card" parameters={{ info: { disable: true } }} />

# Card

Organise and present content and actions about a single subject.

## Contents

- [Quick Start](#quick-start)
- [Designer Notes](#designer-notes)
- [Examples](#examples)
- [Props](#props)

## Quick start

```javascript
import Card from "carbon-react/lib/components/card";
import CardRow from "carbon-react/lib/components/card/card-row";
import CardFooter from "carbon-react/lib/components/card/card-footer";
import CardColumn from "carbon-react/lib/components/card/card-column";
```

## Designer Notes

- Cards: contain interactive content or controls.
  Sometimes it might be possible to move them around on the page. They have shadows - 'card shadow' as a default,
  and depth level 1 on hover.
- Cards may have hover and dragging states, whereas tiles do not.
- Neither cards nor tiles scroll.
- The primary action area of a card is typically the card itself.
  Often cards are one large touch target to a detail screen on a subject.
- When an array of cards or tiles are shown together,
  they may wrap into a grid depending on the available width and height of their container.

## Examples

### Default - medium spacing

<Preview>
  <Story name="default">
    <Card>
      <CardRow>
        <CardColumn align="left">
          <Heading title="Stripe - [account name]" divider={false} />
          <Typography variant="h5">user.name@sage.com</Typography>
        </CardColumn>
        <CardColumn align="right">
          <Icon type="image" />
        </CardColumn>
      </CardRow>
      <CardRow>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardFooter>
        <CardColumn>
          <Link icon="link" href="https://carbon.sage.com/">
            View Stripe Dashboard
          </Link>
        </CardColumn>
      </CardFooter>
    </Card>
  </Story>
</Preview>

### Small spacing

<Preview>
  <Story name="small spacing">
    <Card spacing="small">
      <CardRow>
        <CardColumn align="left">
          <Heading title="Stripe - [account name]" divider={false} />
          <Typography variant="h5">user.name@sage.com</Typography>
        </CardColumn>
        <CardColumn align="right">
          <Icon type="image" />
        </CardColumn>
      </CardRow>
      <CardRow pt={2} pb={2}>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardFooter>
        <CardColumn>
          <Link icon="link" href="https://carbon.sage.com/">
            View Stripe Dashboard
          </Link>
        </CardColumn>
      </CardFooter>
    </Card>
  </Story>
</Preview>

### Large spacing

<Preview>
  <Story name="large spacing">
    <Card spacing="large">
      <CardRow>
        <CardColumn align="left">
          <Heading title="Stripe - [account name]" divider={false} />
          <Typography variant="h5">user.name@sage.com</Typography>
        </CardColumn>
        <CardColumn align="right">
          <Icon type="image" />
        </CardColumn>
      </CardRow>
      <CardRow pt={4} pb={4}>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardFooter>
        <CardColumn>
          <Link icon="link" href="https://carbon.sage.com/">
            View Stripe Dashboard
          </Link>
        </CardColumn>
      </CardFooter>
    </Card>
  </Story>
</Preview>

### With cardWidth provided

<Preview>
  <Story name="with cardWidth provided">
    <Card cardWidth="300px">
      <CardRow>
        <CardColumn align="left">
          <Heading title="Stripe - [account name]" divider={false} />
          <Typography variant="h5">user.name@sage.com</Typography>
        </CardColumn>
        <CardColumn align="right">
          <Icon type="image" />
        </CardColumn>
      </CardRow>
      <CardRow>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardFooter>
        <CardColumn>
          <Link icon="link" href="https://carbon.sage.com/">
            View Stripe Dashboard
          </Link>
        </CardColumn>
      </CardFooter>
    </Card>
  </Story>
</Preview>

### Interactive

Click on the card to see the effect

<Preview>
  <Story name="interactive" parameters={{ chromatic: { disable: true } }}>
    {() => {
      const [clickCounter, setClickCounter] = useState(0);
      return (
        <div>
          <Typography variant="b">
            Card has been clicked {clickCounter} times
          </Typography>
          <Card
            interactive
            action={() => setClickCounter((prevCounter) => prevCounter + 1)}
          >
            <CardRow>
              <CardColumn align="left">
                <Heading title="Stripe - [account name]" divider={false} />
                <Typography variant="h5">user.name@sage.com</Typography>
              </CardColumn>
              <CardColumn align="right">
                <Icon type="image" />
              </CardColumn>
            </CardRow>
            <CardRow>
              <CardColumn>
                <Typography variant="h5" weight="bold">
                  Stripe Balance
                </Typography>
                <Heading title="£ 0.00" divider={false} />
                <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
              </CardColumn>
            </CardRow>
            <CardFooter>
              <CardColumn>
                <Link icon="link" href="https://carbon.sage.com/">
                  View Stripe Dashboard
                </Link>
              </CardColumn>
            </CardFooter>
          </Card>
        </div>
      );
    }}
  </Story>
</Preview>

### Different `<CardRow />` padding

<Preview>
  <Story
    name="different CardRow padding"
    parameters={{ chromatic: { disable: true } }}
  >
    <Card>
      <CardRow pt={2} pb={0}>
        <CardColumn align="left">
          <Heading title="Stripe - [account name]" divider={false} />
          <Typography variant="h5">user.name@sage.com</Typography>
        </CardColumn>
        <CardColumn align="right">
          <Icon type="image" />
        </CardColumn>
      </CardRow>
      <CardRow pt={0} pb={4}>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 5 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardRow pt={0} pb={4}>
        <CardColumn>
          <Typography variant="h5" weight="bold">
            Stripe Balance
          </Typography>
          <Heading title="£ 0.00" divider={false} />
          <Typography>LAST ENTRY: 15 DAYS AGO</Typography>
        </CardColumn>
      </CardRow>
      <CardFooter>
        <CardColumn>
          <Link icon="link" href="https://carbon.sage.com/">
            View Stripe Dashboard
          </Link>
        </CardColumn>
      </CardFooter>
    </Card>
  </Story>
</Preview>

### Different `<CardFooter />` padding

<Preview>
  <Story
    name="different CardFooter padding"
    parameters={{ chromatic: { disable: true } }}
  >
    <div>
      <Card>
        <CardFooter px={1} py={1}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter px={2} py={1}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter px={3} py={1}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter px={4} py={1}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter px={5} py={1}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter px={5} py={2}>
          <Box width="100%" display="flex" justifyContent="space-around">
            <Box flexGrow={1}>
              <Button p={0} buttonType="tertiary" iconType="edit">
                {" "}
                Edit Button
              </Button>
            </Box>
            <Box>
              <Button buttonType="primary"> Button </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
    </div>
  </Story>
</Preview>

### More `<CardFooter />` examples

<Preview>
  <Story name="more examples of CardFooter">
    <div>
      <Card>
        <CardFooter p={1}>
          <Box
            alignItems="center"
            width="100%"
            display="flex"
            justifyContent="space-around"
          >
            <Box flexGrow={1}>
              <IconButton>
                <Icon bgSize="medium" type="phone" />
              </IconButton>
              <IconButton>
                <Icon bgSize="medium" type="phone" />
              </IconButton>
              <IconButton>
                <Icon bgSize="medium" type="phone" />
              </IconButton>
              <IconButton>
                <Icon bgSize="medium" type="phone" />
              </IconButton>
            </Box>
            <Box>
              <Button buttonType="tertiary"> Button </Button>
              <Button buttonType="primary" ml={2}>
                {" "}
                Button{" "}
              </Button>
            </Box>
          </Box>
        </CardFooter>
      </Card>
      <Card cardWidth="400px">
        <CardFooter px={2} py={1}>
          <Box
            width="100%"
            alignItems="center"
            display="flex"
            justifyContent="center"
          >
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
            >
              Edit Button
            </Button>
            <VerticalDivider tint={80} py={0} px={2} h={30} />
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
              ml={2}
            >
              Edit Button
            </Button>
            <VerticalDivider tint={80} py={0} px={2} h={30} />
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
              ml={2}
            >
              Edit Button
            </Button>
          </Box>
        </CardFooter>
      </Card>
      <Card cardWidth="400px">
        <CardFooter variant="transparent" px={2} py={1}>
          <Box
            width="100%"
            alignItems="center"
            display="flex"
            justifyContent="center"
          >
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
            >
              Edit Button
            </Button>
            <VerticalDivider tint={80} py={0} px={2} h={30} />
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
              ml={2}
            >
              Edit Button
            </Button>
            <VerticalDivider tint={80} py={0} px={2} h={30} />
            <Button
              p={0}
              iconPosition="after"
              iconType="edit"
              buttonType="tertiary"
              ml={2}
            >
              Edit Button
            </Button>
          </Box>
        </CardFooter>
      </Card>
      <Card>
        <CardFooter p={2}>
          <Box display="flex" width="100%" justifyContent="center">
            <Link icon="link" href="https://carbon.sage.com/">
              View Stripe Dashboard
            </Link>
          </Box>
        </CardFooter>
      </Card>
    </div>
  </Story>
</Preview>

## With string as child

<Preview>
  <Story
    name="with string as child"
    parameters={{ chromatic: { disable: true } }}
  >
    <div>
      <Card>String passed as child</Card>
    </div>
  </Story>
</Preview>

## Props

### Card

<Props of={Card} />

### CardRow

<StyledSystemProps noHeader padding of={CardRow} />

### CardColumn

<Props of={CardColumn} />

### CardFooter

<StyledSystemProps spacing noHeader of={CardFooter} />
