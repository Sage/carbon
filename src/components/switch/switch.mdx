import { Meta, ArgTypes, Canvas } from "@storybook/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as SwitchStories from "./switch.stories.tsx";

<Meta of={SwitchStories} />

# Switch

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/36a24a-switch"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Switches provide a way to efficiently toggle between two states. They are often used on settings pages to switch on and off individual features.

Disabled or read-only Switches might be difficult for a user to distinguish visually, so try to avoid this.

Consider ‘smart default’ selections, based on what your user is likely to choose. But, users may well leave the defaults in place, so make sure any consequences are easy to undo, and not harmful.

## Contents

- [Quick Start](#quick-start)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Switch from "carbon-react/lib/components/switch";
```

## Related Components

- Choosing more than one option? [Try Checkbox](https://carbon.sage.com/?path=/docs/checkbox--default "Checkbox").
- Choosing one option from a longer list? [Try Radio Button](https://carbon.sage.com/?path=/docs/radiobutton--default "Radio Button").
- Choosing one option from a very long list? [Try Select](https://carbon.sage.com/?path=/docs/select--default "Select").
- Choosing one option from a highly visible range? [Try Button Toggle](https://carbon.sage.com/?path=/docs/button-toggle--default "Button Toggle").

## Translations

The switch component uses `switch.on` and `switch.off` to retrieve the translations.

## Examples

### Default

<Canvas of={SwitchStories.Default} name="default" />

### Sizes

<Canvas of={SwitchStories.Sizes} name="sizes" />

### Disabled

<Canvas of={SwitchStories.Disabled} name="disabled" />

### Required

You can use the `required` prop to indicate if the field is mandatory.

<Canvas of={SwitchStories.Required} name="Required" />

### IsOptional

You can use the `isOptional` prop to indicate if the field is optional.

<Canvas of={SwitchStories.IsOptional} name="IsOptional" />

### Reversed

<Canvas of={SwitchStories.Reversed} name="reversed" />

### Loading

<Canvas of={SwitchStories.Loading} name="loading" />

### With labelInline

**Note:** The `labelInline` prop is not supported if the `validationRedesignOptIn` flag on the `CarbonProvider` is true.

<Canvas of={SwitchStories.WithLabelInline} name="With labelInline" />

### With fieldHelp

<Canvas of={SwitchStories.WithFieldHelp} name="with fieldHelp" />

### With labelHelp

**Note:** The `legendHelp` tooltip will be rendered as hint text if the `validationRedesignOptIn` flag on the `CarbonProvider` is true.

<Canvas of={SwitchStories.WithLabelHelp} name="with labelHelp" />

### With margin

Margins can be applied to the `Switch` component using styled-system. To see a full list of available margin props,
please visit the props table at the bottom of this page.

[Visit Props Table](#props)

<Canvas of={SwitchStories.WithMargin} name="with margin" />

### Validations

Validation status can be set by passing `error`, `warning` or `info` prop to the component.

Passing a string to these props will display a properly colored border along with a validation icon and tooltip - string value will be displayed as the tooltip message.

Passing a boolean to these props will display only a properly colored border.

For more information check our [Validations](../?path=/docs/documentation-validations--docs) documentation page.

#### As a string

<Canvas
  of={SwitchStories.ValidationString}
  name="single switch - string validation"
/>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas
  of={SwitchStories.ValidationStringTooltip}
  name="single switch - string validation - tooltipPosition overriden"
/>

#### As a string with validationOnLabel

<Canvas
  of={SwitchStories.ValidationStringLabel}
  name="single switch - string validation - validationOnLabel"
/>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas
  of={SwitchStories.ValidationStringLabelTooltip}
  name="single switch - string validation - validationOnLabel - tooltipPosition overriden"
/>

#### As a boolean

<Canvas
  of={SwitchStories.ValidationBoolean}
  name="single switch - boolean validation"
/>

### New Validation

The folowing examples use the new validation pattern that is available by setting the `validationRedesignOptIn` flag on the `CarbonProvider` to true.

**Note:** The `legendHelp` tooltip will be rendered as "Hint text".

<Canvas
  of={SwitchStories.NewValidationString}
  name="single switch - new string validation"
/>

### Inline field layout with new validation
#### Default usage

<Canvas
  of={SwitchStories.NewValidationInlineDefault}
  name="single switch - inline validation"
/>

#### With optional props

<Canvas
  of={SwitchStories.NewValidationInlineDefaultWithOptions}
  name="single switch - inline validation with options"
/>

#### With error

<Canvas
  of={SwitchStories.NewValidationInlineError}
  name="single switch - inline validation with error"
/>

#### With overflowing hint text

<Canvas
  of={SwitchStories.NewValidationInlineWithOverflowHintText}
  name="single switch - inline validation with overflowing hint text"
/>

#### On a dark background

<Canvas
  of={SwitchStories.NewValidationInlineWithDarkMode}
  name="single switch - inline validation with dark background support"
/>

#### On a dark background and with an error

<Canvas
  of={SwitchStories.NewValidationInlineWithDarkModeAndError}
  name="single switch - inline validation with dark background support and error"
/>

## Props

### Switch

<ArgTypes of={SwitchStories} />

**Any other supplied props will be provided to the underlying HTML input element**

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "switch.on",
      description:
        "The text to display to indicate action would move component to on state",
      type: "func",
      returnType: "string",
    },
    {
      name: "switch.off",
      description:
        "The text to display to indicate action would move component to off state",
      type: "func",
      returnType: "string",
    },
  ]}
/>
