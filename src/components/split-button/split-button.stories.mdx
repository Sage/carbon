import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";

import SplitButton from ".";
import Button from "../button";
import Box from "../box";
import { Accordion } from "../accordion";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";

<Meta title="Split Button" parameters={{ info: { disable: true } }} />

# Split Button

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/861289-button-split"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
>
  Product Design System component
</a>

# <h2>Contents</h2>

- [Quick Start](#quick-start)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import SplitButton from "carbon-react/lib/components/split-button";
```

## Examples

### Default

<Canvas>
  <Story name="default" parameters={{ chromatic: { disableSnapshot: true } }}>
    <SplitButton text="Split button">
      <Button>Button 1</Button>
      <Button>Button 2</Button>
      <Button>Button 3</Button>
    </SplitButton>
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="disabled">
    <SplitButton disabled text="Split button">
      <Button>Button 1</Button>
      <Button>Button 2</Button>
      <Button>Button 3</Button>
    </SplitButton>
  </Story>
</Canvas>

### Button types

<Canvas>
  <Story name="button types">
    {["primary", "secondary"].map((buttonType) => (
      <Box key={buttonType} mb={3}>
        <SplitButton
          buttonType={buttonType}
          text={`Split button - ${buttonType}`}
        >
          <Button>Button 1</Button>
          <Button>Button 2</Button>
          <Button>Button 3</Button>
        </SplitButton>
      </Box>
    ))}
  </Story>
</Canvas>

### Child button types

Buttons used as a content of `SplitButton` can be of any type.

<Canvas>
  <Story
    name="child button types"
    parameters={{ chromatic: { disableSnapshot: true } }}
  >
    <SplitButton text="Split Button">
      <Button>Default button</Button>
      <Button buttonType="primary" destructive>
        Primary - destructive
      </Button>
      <Button buttonType="secondary">Secondary</Button>
      <Button buttonType="secondary" destructive>
        Secondary - destructive
      </Button>
      <Button buttonType="tertiary">Tertiary</Button>
      <Button buttonType="tertiary" destructive>
        Tertiary - destructive
      </Button>
      <Button disabled>Disabled</Button>
    </SplitButton>
  </Story>
</Canvas>

### Sizes

<Canvas>
  <Story name="sizes">
    {["small", "medium", "large"].map((size) => (
      <Box key={size} mb={3}>
        <SplitButton size={size} text={`Split button - ${size}`}>
          <Button size={size}>Button 1</Button>
          <Button size={size}>Button 2</Button>
          <Button size={size}>Button 3</Button>
        </SplitButton>
      </Box>
    ))}
  </Story>
</Canvas>

### Alignment

<Canvas>
  <Story name="align" parameters={{ chromatic: { disableSnapshot: true } }}>
    {["left", "right"].map((align) => (
      <Box key={align} mb={3}>
        <SplitButton align={align} text={`Split button - ${align}`}>
          <Button>Button 1</Button>
          <Button>Button 2</Button>
          <Button>Button 3</Button>
        </SplitButton>
      </Box>
    ))}
  </Story>
</Canvas>

### Subtext

Subtext only works when `size` is `large`

<Canvas>
  <Story name="subtext">
    <SplitButton size="large" subtext="subtext" text="Split button">
      <Button size="large">Button 1</Button>
      <Button size="large">Button 2</Button>
      <Button size="large">Button 3</Button>
    </SplitButton>
  </Story>
</Canvas>

### With icon

<Canvas>
  <Story name="with icon">
    {["before", "after"].map((iconPosition) => (
      <Box key={iconPosition} mb={3}>
        <SplitButton
          iconType="add"
          iconPosition={iconPosition}
          text={`Split button - ${iconPosition}`}
        >
          <Button>Button 1</Button>
          <Button>Button 2</Button>
          <Button>Button 3</Button>
        </SplitButton>
      </Box>
    ))}
  </Story>
</Canvas>

### In overflow: hidden container

<Canvas>
  <Story
    name="in overflow hidden container"
    parameters={{ chromatic: { disableSnapshot: true } }}
  >
    <Accordion title="Heading">
      <Box p={4}>
        <SplitButton size="large" subtext="subtext" text="Split button">
          <Button size="large">Button 1</Button>
          <Button size="large">Button 2</Button>
          <Button size="large">Button 3</Button>
        </SplitButton>
      </Box>
    </Accordion>
  </Story>
</Canvas>

## Props

### SplitButton

<StyledSystemProps of={SplitButton} margin noHeader />

### Button

<ArgsTable of={Button} />
