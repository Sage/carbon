import { Meta, Story, Canvas } from "@storybook/addon-docs";
import LinkTo from "@storybook/addon-links/react";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import Password from ".";
import * as stories from "./password.stories.tsx";

<Meta title="Password" 
      parameters={{
        info: { disable: true },
        themeProvider: { chromatic: { theme: "sage" } },
  }} />

# Password

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/09ca6b-password/b/158364"
  style={{ color: '#007E45', fontWeight: 'bold', textDecoration: 'underline' }}
>
  Product Design System component
</a>

Provide a way for the user to securely enter a password.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import Password from "carbon-react/lib/components/password";
```

## Examples

### Default

**Warning - Please ensure that the `forceObscurity` prop is `true` on form submission,**
**this will ensure browsers do not remember the inputs content.** 
We have set the `autocomplete` attribute to `off` on the component also, but this is not widely 
supported across different browsers and can have unpredictable results.

<Canvas>
  <Story name="default" story={stories.Default} />
</Canvas>

### with forceObscurity

When `forceObscurity` is `true` the input type is set to `password` and text is obscured, whilst in this state
the input type will not be able to be changed to `text`. To be used primarily to change the type back to
`password` on form submission. 

<Canvas>
  <Story name="with forceObscurity" story={stories.ForceObscurity} />
</Canvas>

### with inputHint

When the `inputHint` prop is passed, please use a full stop `.` at the end. This forces a pause 
before any other announcements, this well help screen reader users understand the hint fully.

<Canvas>
  <Story name="with inputHint" story={stories.InputHint} />
</Canvas>

### Character counter

<Canvas>
  <Story name="with character counter" story={stories.CharacterCounter} />
</Canvas>


### Prefix

<Canvas>
  <Story name="with prefix" story={stories.Prefix} />
</Canvas>


### Sizes

<Canvas>
  <Story name="with sizes" story={stories.Sizes} />
</Canvas>

### Margins

<Canvas>
  <Story name="with margins" story={stories.Margins} />
</Canvas>

### Disabled

<Canvas>
  <Story name="disabled" story={stories.Disabled} />
</Canvas>

### ReadOnly

<Canvas>
  <Story name="readOnly" story={stories.ReadOnly} />
</Canvas>

### AutoFocus

<Canvas>
  <Story name="with autoFocus" story={stories.AutoFocus} />
</Canvas>

### With labelInline

<Canvas>
  <Story name="with labelInline" story={stories.WithLabelInline} />
</Canvas>

### With label Align

<Canvas>
  <Story name="with labelAlign" story={stories.WithLabelAlign} />
</Canvas>

### With custom labelWidth and inputWidth

<Canvas>
  <Story name="with custom labelWidth and inputWidth" story={stories.WithCustomLabelWidthAndInputWidth} />
</Canvas>

### With custom maxWidth

<Canvas>
  <Story name="with custom maxWidth" story={stories.WithCustomMaxWidth} />
</Canvas>

### With fieldHelp

<Canvas>
  <Story name="with fieldHelp" story={stories.WithFieldHelp} />
</Canvas>

### With labelHelp

<Canvas>
  <Story name="with labelHelp" story={stories.WithLabelHelp} />
</Canvas>

### With required

<Canvas>
  <Story name="required" story={stories.WithRequired} />
</Canvas>



### Validations

Validation status can be set by passing `error`, `warning` or `info` prop to the component

Passing a string to these props will display a properly colored border along with a validation icon and tooltip - string value will be displayed as the tooltip message.

Passing a boolean to these props will display only a properly colored border.

For more information check our [Validations](?path=/docs/documentation-validations--page "Validations") documentation page

#### As a string

<Canvas>
  <Story
    name="validations - string - component"
    story={stories.ValidationsAsAString}
  />
</Canvas>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas>
  <Story
    name="validations - string - with tooltipPosition overriden - component"
    story={stories.ValidationsAsAStringWithTooltipCustom}
  />
</Canvas>

#### As a string, displayed on label

<Canvas>
  <Story
    name="validations - string - label"
    story={stories.ValidationsAsAStringDisplayedOnLabel}
  />
</Canvas>

#### New designs validation

<Canvas>
  <Story
    name="validations - string - new design"
    story={stories.NewDesignsValidation}
  />
</Canvas>

It is possible to use the `tooltipPosition` to override the default placement of tooltips rendered as part of this component.

<Canvas>
  <Story
    name="validations - string - with tooltipPosition overriden - label"
    story={stories.ValidationsAsAStringWithTooltipDefault}
  />
</Canvas>

#### As a boolean

<Canvas>
  <Story name="validations - boolean" story={stories.ValidationsAsABoolean} />
</Canvas>

## Props

### Password

<StyledSystemProps of={Password} noHeader margin />

**Any other supplied props will be provided to the underlying HTML input element**

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "password.ariaLiveShownMessage",
      description: "The message that screen readers will announce when password is made visible.",
      type: "func",
      returnType: "string",
    },
        {
      name: "password.ariaLiveHiddenMessage",
      description: "The message that screen readers will announce when password is hidden.",
      type: "func",
      returnType: "string",
    },
  ]}
/>
