import { Meta, ArgTypes, Canvas } from "@storybook/addon-docs/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as PasswordStories from "./password.stories.tsx";

<Meta of={PasswordStories} />

# Password

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/09ca6b-password/b/158364"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Provide a way for the user to securely enter a password.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Validation states](#validation-states)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import Password from "carbon-react/lib/components/password";
```

## Examples

### Default

**Warning - Please ensure that the `forceObscurity` prop is `true` on form submission,**
**this will ensure browsers do not remember the inputs content.**
We have set the `autocomplete` attribute to `off` on the component also, but this is not widely
supported across different browsers and can have unpredictable results.

<Canvas of={PasswordStories.Default} />

### With forceObscurity

When `forceObscurity` is `true` the input type is set to `password` and text is obscured, whilst in this state
the input type will not be able to be changed to `text`. To be used primarily to change the type back to
`password` on form submission.

<Canvas of={PasswordStories.ForceObscurity} />

### With inputHint

When the `inputHint` prop is passed, please use a full stop `.` at the end. This forces a pause
before any other announcements, this well help screen reader users understand the hint fully.

<Canvas of={PasswordStories.InputHint} />

### Character counter

<Canvas of={PasswordStories.CharacterCounter} />

### Prefix

<Canvas of={PasswordStories.Prefix} />

### Sizes

<Canvas of={PasswordStories.Sizes} />

### Margins

<Canvas of={PasswordStories.Margins} />

### Disabled

<Canvas of={PasswordStories.Disabled} />

### ReadOnly

<Canvas of={PasswordStories.ReadOnly} />

### With custom maxWidth

<Canvas of={PasswordStories.WithCustomMaxWidth} />

### Required

<Canvas of={PasswordStories.WithRequired} />

### With labelInline (legacy)

Use the `labelInline` prop to display the label on the same horizontal row as the input. You can adjust its appearance using the `labelWidth` and
`labelAlign` props to control the width and text alignment of the label and the `inputWidth` prop to control the width of the input.

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={PasswordStories.WithLabelInline} />

<Canvas of={PasswordStories.WithLabelAlign} />

### With fieldHelp (legacy)

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={PasswordStories.WithFieldHelp} />

### With labelHelp (legacy)

**Note:** This is a legacy feature and will only render if the `validationRedesignOptIn` feature flag on an ancestor [CarbonProvider](../?path=/docs/carbon-provider--docs) is *false*.

<Canvas of={PasswordStories.WithLabelHelp} />

## Validation States

This component supports input validation, see our [Validations](../?path=/docs/documentation-validations--docs) documentation page for more information.

## Props

### Password

<ArgTypes of={PasswordStories} />

**Any other supplied props will be provided to the underlying HTML input element**

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "password.buttonLabelHide",
      description:
        "The visible label for the button that hides the password.",
      type: "func",
      returnType: "string",
    },
    {
      name: "password.buttonLabelShow",
      description:
        "The visible label for the button that shows the password.",
      type: "func",
      returnType: "string",
    },
    {
      name: "password.ariaLabelHide",
      description:
        "The aria-label for the button that hides the password.",
      type: "func",
      returnType: "string",
    },
    {
      name: "password.ariaLabelShow",
      description:
        "The aria-label for the button that shows the password.",
      type: "func",
      returnType: "string",
    },
    {
      name: "password.ariaLiveShownMessage",
      description:
        "The message that screen readers will announce when password is made visible.",
      type: "func",
      returnType: "string",
    },
    {
      name: "password.ariaLiveHiddenMessage",
      description:
        "The message that screen readers will announce when password is hidden.",
      type: "func",
      returnType: "string",
    },
  ]}
/>
