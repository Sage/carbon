import { Meta, ArgTypes, Canvas } from "@storybook/blocks";

import { Default } from "./duelling-picklist-test.stories";
import * as PickListStories from "./picklist/picklist.stories";
import * as PicklistItemStories from "./picklist-item/picklist-item.stories";
import * as PicklistPlaceholderStories from "./picklist-placeholder/picklist-placeholder.stories";
import * as DuellingPicklistStories from "./duelling-picklist.stories";

<Meta title="DuellingPicklist" of={DuellingPicklistStories} />

# Duelling Picklist

Select a subset of relatively short list.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

To create fully functioning `Duelling Picklist` component you can compose it yourself out of provided `Carbon` components.

```javascript
import {
  Picklist,
  PicklistItem,
  PicklistDivider,
  PicklistPlaceholder,
  DuellingPicklist,
} from "carbon-react/lib/components/duelling-picklist";
```

- `DuellingPicklist` is meant to be a container composed of two `Picklist` children and a `PicklistDivider` between them.

- It also accepts `leftLabel` and `rightLabel` props of type string which will be rendered above the corresponding `PickList`.

- Similarly to labels, `leftControls` and `rightControls` props accept a node to be rendered between the labels and the `Picklist`.
  This is a suitable place for components like `Search` or `Filter` used to manipulate displayed data.
  To display an overlay over whole `DuellingPicklist` content pass a `disabled` prop set to true.

- `Picklist` wraps a list of `PicklistItem`, applies enter transition animations and provides an extended keyboard navigation (up/down/home/end keys).

- `PicklistDivider` as name states is a component meant to visually divide two `PickList`. It is optional, the spacing between the two picklists will be equal with or without it.

- `PicklistItem` is a component meant to visually represent one of the iterable entities. It can be of a type `add` or `remove`.
  It invokes passed `onChange` method with passed `item` prop as an argument when either `add` or `remove` icon is clicked or `space` or `enter` pressed when whole `PicklistItem` is focused.

- `PicklistPlaceholder` can be used to display the content of its `text` prop. It is meant to be passed as a `placeholder` prop in `Picklist` component.

## Examples

### Default

Example of composed Duelling Picklist components with order preservation and search implemented.

<Canvas of={Default} />

### Alternative search placement

The `Search` component can be placed outside of the picklist controls and positioned anywhere as required. This example also shows the option of not using a `PicklistDivider`.

<Canvas
  name="alternative search placement"
  of={DuellingPicklistStories.AlternativeSearch}
/>

### Grouped

Picklist items can be organised into selectable groups. Whole groups can be moved from one list to another at once, or group items can be moved individually.

<Canvas of={DuellingPicklistStories.Grouped} />

### In Dialog

Same as above but as a children of `Dialog` component.

<Canvas of={DuellingPicklistStories.InDialog} />

## PicklistItem Examples

### Add item

<Canvas of={DuellingPicklistStories.AddItem} />

### Remove item

<Canvas of={DuellingPicklistStories.RemoveItem} />

### Locked

<Canvas of={DuellingPicklistStories.Locked} />

### Custom tooltip message

<Canvas of={DuellingPicklistStories.CustomTooltipMessage} />

## Props:

### Picklist

<ArgTypes of={PickListStories} />

### PicklistItem

<ArgTypes of={PicklistItemStories} />

### DuellingPicklist

<ArgTypes of={DuellingPicklistStories} />

### PicklistDivider

`PicklistDivider` currently has no props for external use.

### PicklistPlaceholder

<ArgTypes of={PicklistPlaceholderStories} />
