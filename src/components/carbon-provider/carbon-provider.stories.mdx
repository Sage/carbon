import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import LinkTo from "@storybook/addon-links/react";

import CarbonProvider from ".";

import * as stories from "./carbon-provider.stories";

<Meta
  title="Carbon Provider"
  component={CarbonProvider}
  parameters={{ info: { disable: true }, chromatic: { disableSnapshot: true } }}
/>

# Carbon Provider

A React context provider that supplies global settings such as theme styling and Carbon feature flags to your components.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quickstart

You can import the provider and any intended themes like so:

```ts
import CarbonProvider from "carbon-react/lib/components/carbon-provider";
import { sageTheme, mintTheme } from "carbon-react/lib/style/themes";
```

then wrap your application code with the provider:

```tsx
<CarbonProvider theme={sageTheme}>
  <MyApp />
</CarbonProvider>
```

## Setting themes

### Using latest sage theme

We recommend using the latest `sageTheme` to ensure your app has the most up-to-date styling. This theme uses **design tokens** - CSS properties curated by Sage designers in the `@sage/design-tokens` package, which Carbon uses to set styling rules for your components.

<Canvas>
  <Story story={stories.SageTheme} />
</Canvas>

Setting the theme to `sageTheme` in `CarbonProvider` loads the design tokens in the browser, meaning you can also use these tokens yourself where a component prop accepts CSS values, such as the `color` prop with `Typography`:

```tsx
<Typography color="--colorsSemanticNegative500">
  This text is coloured with a design token!
</Typography>
```

For a full list of supported tokens, see the [Sage's Design System documentation on design tokens](https://zeroheight.com/2ccf2b601/p/217e24-design-tokens/b/46fb17) for more details.

### Using legacy mint theme

For older Carbon projects, we still support the legacy `mintTheme` to help with upgrading. This is made the default theme if the `theme` prop is not specified.

<Canvas>
  <Story story={stories.MintTheme} />
</Canvas>

## Props

### Carbon Provider

<ArgsTable of={CarbonProvider} />
