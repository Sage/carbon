import { Meta, ArgTypes, Canvas } from "@storybook/addon-docs/blocks";

import * as CarbonProviderStories from "./carbon-provider.stories";

<Meta of={CarbonProviderStories} />

# Carbon Provider

A React context provider that supplies global settings such as theme styling and Carbon feature flags to your components.

## Contents

- [Quick Start](#quick-start)
- [Setting Themes](#setting-themes)
- [Validation Redesign](#validation-redesign)
- [Props](#props)

## Quick Start

You can import the provider and any intended themes like so:

```ts
import CarbonProvider from "carbon-react/lib/components/carbon-provider";
import { sageTheme } from "carbon-react/lib/style/themes";
```

then wrap your application code with the provider:

```tsx
<CarbonProvider theme={sageTheme}>
  <MyApp />
</CarbonProvider>
```

## Setting themes

### Using latest sage theme

We recommend using the latest `sageTheme` to ensure your app has the most up-to-date styling. This theme uses **design tokens** - CSS properties curated by Sage designers in the `@sage/design-tokens` package, which Carbon uses to set styling rules for your components.

<Canvas of={CarbonProviderStories.SageTheme} />

Setting the theme to `sageTheme` in `CarbonProvider` loads the design tokens in the browser, meaning you can also use these tokens yourself where a component prop accepts CSS values, such as the `color` prop with `Typography`:

```tsx
<Typography color="--colorsSemanticNegative500">
  This text is coloured with a design token!
</Typography>
```

For a full list of supported tokens, see the [Sage's Design System documentation on design tokens](https://zeroheight.com/2ccf2b601/p/217e24-design-tokens/b/46fb17) for more details.

## Validation Redesign

Carbon is in the process of implementing a new validation design to our components. To opt into the new validation pattern set the `validationRedeisgnOptIn` flag to true in the CarbonProvider.

For more information check our [Validations](../?path=/docs/documentation-validations--docs) documentation page.

```tsx
<CarbonProvider validationRedesignOptIn>
  <MyApp />
</CarbonProvider>
```

## Props

### Carbon Provider

<ArgTypes of={CarbonProviderStories} />
