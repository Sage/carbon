import { useState } from "react";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import { SimpleColorPicker, SimpleColor } from ".";
import Box from "../box";

<Meta title="Simple Color Picker" parameters={{ info: { disable: true } }} />

# Simple Color Picker

- Choose from a small palette of pre-set colours, with indication of a currently selected colour.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import SimpleColorPicker from "carbon-react/lib/components/simple-color-picker";
```

## Examples

### Default

<Canvas>
  <Story name="default">
    {() => {
      const [state, setState] = useState("transparent");
      const colors = [
        { color: "transparent", label: "transparent" },
        { color: "#0073C1", label: "blue" },
        { color: "#582C83", label: "purple" },
        { color: "#E96400", label: "orange" },
        { color: "#99ADB6", label: "gray" },
        { color: "#C7384F", label: "flush mahogany" },
        { color: "#004500", label: "dark green" },
        { color: "#FFB500", label: "yellow" },
        { color: "#335C6D", label: "dark blue" },
        { color: "#00DC00", label: "light blue" },
      ];
      const onChange = ({ target }) => {
        setState(target.value);
      };
      return (
        <SimpleColorPicker
          name="picker-default-example"
          legend="Legend"
          onChange={onChange}
          value={state}
        >
          {colors.map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={color}
            />
          ))}
        </SimpleColorPicker>
      );
    }}
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="disabled">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      return (
        <SimpleColorPicker
          name="picker-disabled-example"
          legend="Legend"
          onChange={onChange}
          value={state}
        >
          {[
            { color: "transparent", label: "transparent" },
            { color: "#0073C1", label: "blue" },
            { color: "#582C83", label: "purple" },
          ].map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={color}
              disabled
            />
          ))}
        </SimpleColorPicker>
      );
    }}
  </Story>
</Canvas>

### Required

You can use the `required` prop to indicate if the field is mandatory.

<Canvas>
  <Story name="required">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      return (
        <SimpleColorPicker
          legend="Legend"
          required
          onChange={onChange}
          value={state}
          name="picker-required-example"
        >
          {[
            { color: "transparent", label: "transparent" },
            { color: "#0073C1", label: "blue" },
            { color: "#582C83", label: "purple" },
          ].map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={color}
            />
          ))}
        </SimpleColorPicker>
      );
    }}
  </Story>
</Canvas>

### Validations

Validation status can be set by passing `error`, `warning` or `info` prop to the component

Passing a string to these props will display a properly colored border along with a validation icon and tooltip - string value will be displayed as the tooltip message.

Passing a boolean to these props will display only a properly colored border.

For more information check our [Validations](?path=/docs/documentation-validations--page "Validations") documentation page

#### As a string

<Canvas>
  <Story name="validations - string - component">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      const colors = [
        { color: "transparent", label: "transparent" },
        { color: "#0073C1", label: "blue" },
        { color: "#582C83", label: "purple" },
      ];
      return ["error", "warning", "info"].map((validationType) => (
        <SimpleColorPicker
          key={`${validationType}-string-component`}
          name={`picker-${validationType}-validation`}
          legend="Legend"
          onChange={onChange}
          {...{ [validationType]: "Message" }}
          value={state}
        >
          {colors.map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={`${validationType}-${color}`}
            />
          ))}
        </SimpleColorPicker>
      ));
    }}
  </Story>
</Canvas>

#### As a string, displayed on legend

<Canvas>
  <Story name="validations - string - label">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      const colors = [
        { color: "transparent", label: "transparent" },
        { color: "#0073C1", label: "blue" },
        { color: "#582C83", label: "purple" },
      ];
      return ["error", "warning", "info"].map((validationType) => (
        <SimpleColorPicker
          key={`${validationType}-string-legend`}
          name={`picker-${validationType}-validation-legend`}
          legend="Legend"
          validationOnLegend
          onChange={onChange}
          {...{ [validationType]: "Message" }}
          value={state}
        >
          {colors.map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={`${validationType}-${color}`}
            />
          ))}
        </SimpleColorPicker>
      ));
    }}
  </Story>
</Canvas>

#### As a boolean

<Canvas>
  <Story name="validations - boolean">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      const colors = [
        { color: "transparent", label: "transparent" },
        { color: "#0073C1", label: "blue" },
        { color: "#582C83", label: "purple" },
      ];
      return ["error", "warning", "info"].map((validationType) => (
        <SimpleColorPicker
          key={`${validationType}-boolean-component`}
          name={`picker-${validationType}-validation-boolean`}
          legend="Legend"
          onChange={onChange}
          {...{ [validationType]: true }}
          value={state}
        >
          {colors.map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={`${validationType}-${color}`}
            />
          ))}
        </SimpleColorPicker>
      ));
    }}
  </Story>
</Canvas>

#### With margin

<Canvas>
  <Story name="with margin">
    {() => {
      const [state, setState] = useState("transparent");
      const onChange = ({ target }) => {
        setState(target.value);
      };
      const colors = [
        { color: "transparent", label: "transparent" },
        { color: "#0073C1", label: "blue" },
        { color: "#582C83", label: "purple" },
      ];
      return ["error", "warning", "info"].map((validationType) => (
        <SimpleColorPicker
          key={`${validationType}-boolean-component`}
          name={`picker-${validationType}-validation-boolean`}
          legend="Legend"
          onChange={onChange}
          {...{ [validationType]: true }}
          value={state}
          m={4}
        >
          {colors.map(({ color, label }) => (
            <SimpleColor
              value={color}
              key={color}
              aria-label={label}
              id={`${validationType}-${color}`}
            />
          ))}
        </SimpleColorPicker>
      ));
    }}
  </Story>
</Canvas>

## Props

### SimpleColorPicker

<StyledSystemProps of={SimpleColorPicker} noHeader margin />

### SimpleColor

<ArgsTable of={SimpleColor} />
