import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import styled from "styled-components";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import ShowEditPod from "./";
import Heading from "../heading";
import Button from "../button";
import Content from "../content";
import Textbox from "../textbox";

<Meta title="ShowEditPod" parameters={{ info: { disable: true } }} />

# ShowEditPod

## Contents

- [Quick Start](#quick-start)
- [Designer Notes](#designer-notes)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

```javascript
import ShowEditPod from "carbon-react/lib/components/show-edit-pod";
```

## Designer Notes

Nest any Carbon input into this component.

Configure Pod and Fieldset components to work together, or choose this pre-configured Show/Edit Pod component.

The Show/Edit Pod Component automatically presents content as a read-only Pod, until the user clicks an edit icon, which shows the same information in an editable Fieldset.

However, configuring Pod and Fieldset components manually will give you more customization options.

Choose whether the editable state has a disabled or enabled Save button, a Cancel button, or a Delete button, and their alignment.

Choose from various visual options, including borders, and primary, secondary, or tertiary appearance.

Set the pod to flex to the width of its content, or take up the full width of its container.

Top-aligned labels (Carbon default) or inline right-aligned labels are usually fastest for users.

Create a single path to completion with your inputs, and between your inputs and the primary action Button.

Indicate mandatory, or optional fields, whichever is the minority. Think carefully before collecting optional data - don’t collect information you don’t need! Try suffixing ‘(optional)’ after your field label.

More guidance is available for each of the individual inputs you might place inside this component.

## Related Components

- Editing a number of closely related inputs? [Try Fieldset](/?path=/docs/fieldset-address-fieldset-examples--canada "Fieldset").
- Filling in a broad series of inputs? [Try Form](/?path=/docs/form--default-with-sticky-footer "Form").
- Viewing content that’s grouped together visually? [Try Pod](/?path=/docs/pod--default-story "Pod").

## Examples

### Default

<Canvas>
  <Story name="default">
    <ShowEditPod
      title="Title"
      onEdit={() => {}}
      onDelete={() => {}}
      saveText="Save"
      deleteText="Delete"
      cancelText="Cancel"
      editFields={<Textbox label="Field" labelInline labelAlign="right" />}
    >
      <Content title="Content title">Content</Content>
    </ShowEditPod>
  </Story>
</Canvas>

### Buttons alignment

<Canvas>
  <Story name="buttons alignment">
    {() =>
      ["left", "right"].map((buttonAlign) => (
        <ShowEditPod
          key={buttonAlign}
          title={buttonAlign}
          editing={true}
          onDelete={() => {}}
          saveText="Save"
          deleteText="Delete"
          cancelText="Cancel"
          buttonAlign={buttonAlign}
          editFields={<Textbox label="Field" labelInline labelAlign="right" />}
          mb={3}
        >
          <Content title="Content title">Content</Content>
        </ShowEditPod>
      ))
    }
  </Story>
</Canvas>

### With borders

<Canvas>
  <Story name="with borders">
    <ShowEditPod
      title="With borders"
      onEdit={() => {}}
      onDelete={() => {}}
      saveText="Save"
      deleteText="Delete"
      cancelText="Cancel"
      border
      editFields={<Textbox label="Field" labelInline labelAlign="right" />}
    >
      <Content title="Content title">Content</Content>
    </ShowEditPod>
  </Story>
</Canvas>

### With hidden delete button in view mode

<Canvas>
  <Story name="with hidden delete button in view mode">
    <ShowEditPod
      title="With hidden delete button in view mode"
      onEdit={() => {}}
      onDelete={() => {}}
      hideDeleteButtonInViewMode
      saveText="Save"
      deleteText="Delete"
      cancelText="Cancel"
      editFields={<Textbox label="Field" labelInline labelAlign="right" />}
    >
      <Content title="Content title">Content</Content>
    </ShowEditPod>
  </Story>
</Canvas>

### Various variants

<Canvas>
  <Story name="various variants">
    {() =>
      ["primary", "secondary", "tertiary", "tile", "transparent"].map(
        (variant) => (
          <ShowEditPod
            key={variant}
            title={variant}
            onEdit={() => {}}
            onDelete={() => {}}
            saveText="Save"
            deleteText="Delete"
            cancelText="Cancel"
            variant={variant}
            editFields={
              <Textbox label="Field" labelInline labelAlign="right" />
            }
            mb={3}
          >
            <Content title="Content title">Content</Content>
          </ShowEditPod>
        )
      )
    }
  </Story>
</Canvas>

### Soft delete

<Canvas>
  <Story name="soft delete">
    <ShowEditPod
      title="With borders"
      onEdit={() => {}}
      onDelete={() => {}}
      onUndo={() => {}}
      saveText="Save"
      deleteText="Delete"
      cancelText="Cancel"
      border
      softDelete
      editFields={<Textbox label="Field" labelInline labelAlign="right" />}
    >
      <Content title="Content title">Content</Content>
    </ShowEditPod>
  </Story>
</Canvas>

### Custom transition

<Canvas>
  <Story name="custom transition" parameters={{ chromatic: { disable: true } }}>
    {() => {
      const StyledContainer = styled.div`
        .custom-transition-name-enter {
          transform: scale(0);
          opacity: 0;
        }
        .custom-transition-name-enter-active {
          transform: scale(1);
          opacity: 1;
          transition: all 300ms ease-in;
        }
        .custom-transition-name-exit {
          opacity: 1;
          transform: scale(1);
        }
        .custom-transition-name-exit-active {
          transform: scale(0);
          opacity: 0;
          position: absolute;
        }
      `;
      return (
        <StyledContainer>
          <ShowEditPod
            title="Title"
            onEdit={() => {}}
            onDelete={() => {}}
            saveText="Save"
            deleteText="Delete"
            cancelText="Cancel"
            transitionName="custom-transition-name"
            editFields={
              <Textbox label="Field" labelInline labelAlign="right" />
            }
          >
            <Content title="Content title">Content</Content>
          </ShowEditPod>
        </StyledContainer>
      );
    }}
  </Story>
</Canvas>

## Props

### Show Edit Pod

<StyledSystemProps of={ShowEditPod} margin noHeader />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "actions.edit",
      description: "The text for edit action button",
      type: "func",
      returnType: "string",
    },
    {
      name: "actions.delete",
      description: "The text for delete action button",
      type: "func",
      returnType: "string",
    },
  ]}
/>
