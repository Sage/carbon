import { Meta, ArgTypes, Canvas } from "@storybook/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as FormStories from "./form.stories";

<Meta of={FormStories} />

# Form

Represents a document section containing interactive controls for submitting information.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

To use Form, import the `Form` and pass the content, usually various inputs, as children.
You can provide a save button using the `saveButton` prop.

```javascript
import Form, { RequiredFieldsIndicator } from "carbon-react/lib/components/form";
```

## Examples

### With footer node

<Canvas of={FormStories.WithFooterNode} />

### With sticky footer

When `stickyFooter` prop is set as true, footer becomes stickied to the bottom of the screen when necessary - this also works in `Dialog`

<Canvas of={FormStories.DefaultWithStickyFooter} />

### With sticky footer variant

<Canvas of={FormStories.StickyFooterVariant} />

### Full Width Buttons

<Canvas of={FormStories.WithFullWidthButtons} />

### Field Spacing

You can use the `fieldSpacing` prop to set the spacing between fields within `Form`, which will add a margin-bottom to supported input components.
The value is multiplied by the base theme `8px` spacing value, by default this is set to `3`.

<Canvas of={FormStories.FieldSpacing} />

### Override spacing on a field

You can override the spacing of a field by using the `mb` prop on the specific input.

<Canvas of={FormStories.OverrideFieldSpacing} />

### Validations

When either `errorCount` or `warningCount` or both are provided, summary with the number of errors and/or warnings is rendered wrapping the save button.

<Canvas of={FormStories.WithErrorsSummary} />

<Canvas of={FormStories.WithWarningsSummary} />

<Canvas of={FormStories.WithBothErrorsAndWarningsSummary} />

### Example with optional and required fields

You can set the `required` or `isOptional` on any `Form` input to make them mandatory or optional. You can also
include an indicator within the `Form` by importing the `RequiredFieldsIndicator` component.

<Canvas name="with optional or required label" of={FormStories.WithBothOptionalOrRequired} />

### Buttons variations

Additional buttons can be passed using `leftSideButtons` and `rightSideButtons` props.

<Canvas of={FormStories.WithAdditionalButtons} />

When `buttonAlignment` prop is set as `left`, buttons are aligned to the left side.

<Canvas of={FormStories.WithButtonsAlignedToTheLeft} />

### In Dialog

It is possible to render `Form` as a content of `Dialog` component.

<Canvas of={FormStories.InDialog} />

#### With sticky footer

<Canvas of={FormStories.InDialogWithStickyFooter} />

### In full-screen `Dialog`

It is possible to render `Form` as a content of full-screen `Dialog` component.

<Canvas of={FormStories.InDialogFullScreen} />

#### With sticky footer

<Canvas of={FormStories.InDialogFullScreenWithStickyFooter} />

### Form alignment

An example of how to align different kinds of input components within a `Form`. It is possible to line up all of the inputs and all of the labels in any configuration required. The spacing between inputs and labels can be `8px` or `16px`, and this can be controlled with the `labelSpacing` prop on the input components. Most of them default to `16px`

These input components are spaced vertically with the `fieldSpacing` prop on `Form`, and this can be overridden on any input component using the `mb` (margin bottom) prop.

If a component doesn't have an inline labels on the left (see the Checkboxes below), it is possible to align them using a `ml` (margin left) prop. The left margins on these components should be the same as the label width of the above and below components in order to align correctly.

Please click on "Show code" below to see how to set these components up for alignment.

<Canvas of={FormStories.FormAlignmentExample} />

### With labels inline

<Canvas of={FormStories.WithLabelsInline} />

### With custom footer padding

<Canvas of={FormStories.WithCustomFooterPadding} />

## Props

### Form

<ArgTypes of={FormStories} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "error.messages.formSummary",
      description:
        "The text to displayed when there are errors or warnings present in the form",
      type: "func",
      returnType:
        "an array of strings when validation failures and null when no failures",
    },
  ]}
/>
