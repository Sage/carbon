import { Meta, Story, Preview } from "@storybook/addon-docs";

import specialCharacters from "../../../.storybook/utils/argTypes/specialCharacters";
import { HELP_POSITIONS } from "./help.config";
import { ICONS } from "../icon/icon-config";
import Help from "./help.component";

<Meta
  title="Help/Test"
  parameters={{
    info: { disable: true },
    chromatic: {
      disable: true,
    },
  }}
  argTypes={{
    tooltipFlipOverrides: {
      options: HELP_POSITIONS,
      control: {
        type: "select",
      },
    },
    tooltipPosition: {
      options: HELP_POSITIONS,
      control: {
        type: "select",
      },
    },
    type: {
      options: ICONS,
      control: {
        type: "select",
      },
    },
    childrenSpecialCharacters: specialCharacters,
    hrefSpecialCharacters: specialCharacters,
  }}
/>

export const HelpStory = ({
  children,
  childrenSpecialCharacters,
  href,
  hrefSpecialCharacters,
  tooltipFlipOverrides,
  ...args
}) => {
  const flipOverrides = tooltipFlipOverrides
    ? [tooltipFlipOverrides]
    : undefined;
  return (
    <div style={{ margin: "200px" }}>
      <Help
        tooltipFlipOverrides={flipOverrides}
        children={children || childrenSpecialCharacters}
        href={href || hrefSpecialCharacters}
        ariaLabel={children}
        value={children}
        {...args}
      />
    </div>
  );
};

# Help

### Default

<Preview>
  <Story
    name="default"
    args={{
      children: "This is help text",
      tooltipPosition: Help.defaultProps.tooltipPosition,
      href: "http://www.sage.com",
      type: "help",
      tooltipBgColor: "",
      tooltipFontColor: "",
      tooltipFlipOverrides: "left",
      childrenSpecialCharacters: undefined,
      hrefSpecialCharacters: undefined,
    }}
  >
    {HelpStory.bind({})}
  </Story>
</Preview>
