import { Meta, ArgTypes, Canvas } from "@storybook/addon-docs/blocks";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import * as TileSelectGroupStories from "./tile-select-group/tile-select-group.stories";
import * as TileSelectStories from "./tile-select.stories";

<Meta of={TileSelectStories} />

# TileSelect

Tile Select is an input visualized as a single or grouped set of tiles. It behaves like a `radio` or a `checkbox` depending on the mode it operates in.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)
- [Translation keys](#translation-keys)

## Quick Start

To use this component, import the `TileSelect` and `TileSelectGroup` if you want to have `TileSelects` grouped.

```javascript
import {
  TileSelectGroup,
  TileSelect,
} from "carbon-react/lib/components/tile-select";
```

## Examples

### Single Select

By default, when grouped with the `TileSelectGroup`, this component operates in single select mode and `TileSelect` inputs are of type `radio`.

In this mode all input props like `onChange`, `onBlur`, `name` and currently selected `value` are meant to be passed on the `TileSelectGroup`.
These props are then internally distributed on each of the `TileSelects` making the whole composed group act like a single form field.

<Canvas of={TileSelectStories.Default} />

#### Custom action button

It is possible to overide the default action button via the `customActionButton` prop. It is a render prop which allows
access to the `onClick` functionality.

<Canvas of={TileSelectStories.WithCustomActionButton} />

#### Action button adornment

It is possible to render an additional adornment next to the action button through the `actionButtonAdornment` prop.

<Canvas of={TileSelectStories.WithActionButtonAdornment} />

### Multi select

To enable multi select mode on a `TileSelectGroup` `multiSelect` boolean prop has to be passed as `true`, `TileSelects` in this mode are of type `checkbox`.

In multi select mode all input props like `onChange`, `onBlur`, `name`, `value` and `checked` are meant to be passed individually on each of the `TileSelects` instead of on the `TileSelectGroup`.

In this mode `TileSelectGroup` serves only a visual purpose - it only renders `legend` and `description` props and applies spacing to each of the `TileSelects`

<Canvas of={TileSelectStories.MultiSelect} />

### Single tile

`TileSelect` can be also used as a single component - it operates as a type `checkbox` by default.

Same as in multi select example grouped by `TileSelectGroup`, `onChange`, `onBlur`, `name`, `value` and `checked` are meant to be passed directly on the `TileSelect`.

<Canvas of={TileSelectStories.SingleTile} />

### With a footer

To render a `footer` pass anything renderable to the prop like in the example below.

<Canvas of={TileSelectStories.WithAFooter} />

### With a prefix adornment

To render a prefixed adornment in the top left corner of the `TileSelect` you can pass any node in via the `prefixAdornment` prop.

<Canvas of={TileSelectStories.WithAPrefixAdornment} />

### With additional information

It is possible to render an additional row of information or content between the `title` and the `description` by passing in
any node to the `additionalInformation` prop.

<Canvas of={TileSelectStories.WithAdditionalInformation} />

### With accordion footer

It is possible to render an `Accordion` footer for the `TileSelect`. Pass a desired layout to the `accordionContent` prop
and a use the `accordionControl` render prop to supply the control for the expanded state of the accordion by toggling the
`accordionExpanded` prop.

To ensure proper screen reader behaviour, please pass the `aria-controls` and `aria-expanded` props to the control for the 
Accordion as shown in the example. 

<Canvas of={TileSelectStories.WithAccordionFooter} />

### With custom spacing

The `TileSelect` and `TileSelectGroup` components support the custom margin spacing (see prop table below). The modifiers
support being passed either a number between 1 and 8 that is then multiplied by `8px` or any valid CSS string.

<Canvas of={TileSelectStories.WithCustomSpacing} />

## Props

### TileSelect

<ArgTypes of={TileSelectStories} />

### TileSelectGroup

<ArgTypes of={TileSelectGroupStories} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](../?path=/docs/documentation-i18n--docs).

<TranslationKeysTable
  translationData={[
    {
      name: "tileSelect.deselect",
      description: "The text for the deselect button component",
      type: "func",
      returnType: "string",
    },
  ]}
/>
