import { useState } from "react";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { action } from "@storybook/addon-actions";

import specialCharacters from "../../../.storybook/utils/argTypes/specialCharacters";
import Alert from ".";
import Modal from "../modal";
import Dialog from "../dialog";
import Button from "../button";

<Meta
  title="Alert/Test"
  parameters={{
    info: { disable: true },
    chromatic: {
      disable: true,
    },
  }}
  argTypes={{
    size: {
      options: [
        "auto",
        "extra-small",
        "small",
        "medium-small",
        "medium",
        "medium-large",
        "large",
        "extra-large",
      ],
      control: {
        type: "select",
      },
    },
    titleSpecialCharacters: specialCharacters,
    heightSpecialCharacters: specialCharacters,
    subtitleSpecialCharacters: specialCharacters,
    childrenSpecialCharacters: specialCharacters,
  }}
/>

export const AlertStory = ({
  titleSpecialCharacters,
  title,
  heightSpecialCharacters,
  height,
  childrenSpecialCharacters,
  children,
  subtitleSpecialCharacters,
  subtitle,
  ...args
}) => {
  const [isOpen, setIsOpen] = useState(true);
  const handleCancel = () => {
    setIsOpen(false);
    action("cancel")();
  };
  const handleOpen = () => {
    setIsOpen(true);
    action("open")();
  };
  return (
    <>
      <Button onClick={handleOpen}>Open Alert</Button>
      <Alert
        onCancel={handleCancel}
        open={isOpen}
        title={title || titleSpecialCharacters}
        height={height || heightSpecialCharacters}
        children={children || childrenSpecialCharacters}
        subtitle={subtitle || subtitleSpecialCharacters}
        {...args}
      />
    </>
  );
};

# Alert

### Default

<Canvas>
  <Story
    name="default"
    args={{
      title: "Title",
      disableEscKey: false,
      height: "",
      subtitle: "",
      showCloseIcon: true,
      size: Alert.defaultProps.size,
      children: "This is an example of an alert",
      titleSpecialCharacters: undefined,
      heightSpecialCharacters: undefined,
      subtitleSpecialCharacters: undefined,
      childrenSpecialCharacters: undefined,
    }}
  >
    {AlertStory.bind({})}
  </Story>
</Canvas>
