import { useState } from "react";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import LinkTo from "@storybook/addon-links/react";
import { ButtonToggle } from ".";

import * as stories from "./button-toggle.stories";
import * as groupStories from "./button-toggle-group/button-toggle-group.stories";

<Meta 
  title="Button Toggle"
  parameters={{
    info: { disable: true },
    themeProvider: { chromatic: { theme: "sage" } },
  }}
/>

# Button Toggle

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/996a28-button-toggle/b/7384f9"
  style={{ color: '#007E45', fontWeight: 'bold', textDecoration: 'underline' }}
>
  Product Design System component
</a>

Press one of the buttons to make selection. This component should be used when user has to make a choice between a small number of options.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import { ButtonToggle, ButtonToggleGroup } from "carbon-react/lib/components/button-toggle";
```

- You should use the <LinkTo kind="Button Toggle Group" story="default">ButtonToggleGroup component</LinkTo> if you need to wrap multiple `ButtonToggle` components together.
- An icon could be added to make the meaning of an option clearer.

## Examples

### Default

<Canvas>
  <Story name="default" story={stories.Default} />
</Canvas>

<Canvas>
  <Story name="default minor" story={stories.DefaultMinor} />
</Canvas>

### Default with wrapped text

<Canvas>
  <Story name="default with wrapped text" story={stories.DefaultWrappedText} />
</Canvas>

### Controlled

<Canvas>
  <Story name="controlled" story={groupStories.Controlled} />
</Canvas>

### With aria-label

If you do not want a visible label to appear above the group, you should use the aria-label prop to give it a non-visible
accessible name to be used by screenreaders. Failure to do this will result in accessibility violations.

<Canvas>
  <Story name="aria-label" story={groupStories.AriaLabel} />
</Canvas>

### With fullWidth

When the `fullWidth` prop is `true`, the buttons will expand in size to take up the full width of the container.

<Canvas>
  <Story name="fullWidth" story={groupStories.FullWidth} />
</Canvas>

### With field help inline

<Canvas>
  <Story name="fieldhelp inline" story={groupStories.FieldHelp} />
</Canvas>

### With label inline

<Canvas>
  <Story name="label inline" story={groupStories.LabelInline} />
</Canvas>

### Allowing deselection

By default, in a `ButtonToggleGroup` there is no way to deselect the currently-selected toggle button except by selecting another one.
The `allowDeselect` prop changes this behaviour, making it possible for there to be no selection.

If you use this, you should include text in the `fieldHelp` prop which makes clear that deselection is allowed, as in the example below.

<Canvas>
  <Story name="allowDeselect" story={groupStories.AllowDeselection} />
</Canvas>

### with small icon

<Canvas>
  <Story name="with small icon" story={stories.DefaultSmallIcon} />
</Canvas>

### with large icon

<Canvas>
  <Story name="with large icon" story={stories.DefaultLargeIcon} />
</Canvas>

### Icon only

While we do not advocate the use of icon-only buttons for accessibility reasons, the `aria-label` or `aria-labelledby` props can be used with `buttonIcon` so assistive techniques are aware of the action that will be taken when the component pressed.

<Canvas>
  <Story name="icon only" story={stories.iconOnly} />
</Canvas>

### Small

<Canvas>
  <Story name="small" story={stories.small} />
</Canvas>

### Small with small icon

<Canvas>
  <Story name="small with small icon" story={stories.smallSmallIcon} />
</Canvas>

### Small with large icon

<Canvas>
  <Story name="small with large icon" story={stories.smallLargeIcon} />
</Canvas>

### Large

<Canvas>
  <Story name="large" story={stories.large} />
</Canvas>

### Large with small icon

<Canvas>
  <Story name="large with small icon" story={stories.largeSmallIcon} />
</Canvas>

### Large with large icon

<Canvas>
  <Story name="large with large icon" story={stories.largeLargeIcon} />
</Canvas>

### Disabled

<Canvas>
  <Story name="disabled" story={stories.disabled} />
</Canvas>

### Grouped

<Canvas>
  <Story name="grouped" story={stories.grouped} />
</Canvas>

## Props

### Button Toggle

<ArgsTable of={ButtonToggle} />
