import { useState } from "react";
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";

import Sidebar from ".";
import Button from "../button";
import Typography from "../typography";

<Meta title="Sidebar" parameters={{ info: { disable: true } }} />

# Sidebar

## Contents
- [Quick Start](#quick-start)
- [Designer Notes](#designer-notes)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)


## Quick Start

```javascript
import Sidebar from "carbon-react/lib/components/sidebar";
```

## Designer Notes 

Useful to perform an action in context without navigating the user to a separate page.

Useful if the user might need to refer back to the page behind the sidebar. For example, the user could select from a list of clients on the page, with detailed information on the client loading in the sidebar.

Several pre-set widths are available, and the height is always 100%. It’s best to avoid sidebars that are taller than the user’s viewport height, as a scroll would hide some information. Typical user viewport heights can be as little as 650 pixels.

Choose whether a dark tint is applied behind the dialog which helps to focus the user on the sidebar, but don’t select this option if the user needs to refer back to the underlying page.

Sidebar is positioned on the right hand screen of the window by default.
To position the sidebar on the left hand side pass `position='left'` to the component.

The background behind the sidebar is disabled by default. To allow the user to interact
with all the UI pass `enableBackgroundUI={ true }` to the component

## Related Components

- Simple task in context? [Try Dialog](/?path=/docs/dialog--default-story "Try Dialog").
- Complex task that needs more space? [Try Dialog Full Screen](/?path=/docs/dialog-full-screen--default-story "Try Dialog Full Screen").

## Examples

### Default

<Preview>
  <Story name="default">
    {() => {
      const [isOpen, setIsOpen] = useState(true);
      return (
        <>
          <Button onClick={() => setIsOpen(true)}>Open sidebar</Button>
          <Sidebar open={isOpen} onCancel={() => setIsOpen(false)}>
            <div>
              <Button as="primary">Test</Button>
              <Button as="secondary" ml={2}>
                Last
              </Button>
            </div>
            Main Content
          </Sidebar>
        </>
      );
    }}
  </Story>
</Preview>

### With header

<Preview>
  <Story name="with header" parameters={{ chromatic: { disable: true } }}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={() => setIsOpen(true)}>Open sidebar</Button>
          <Sidebar
            open={isOpen}
            onCancel={() => setIsOpen(false)}
            header={<Typography variant="h3">Sidebar header</Typography>}
          >
            <div>
              <Button as="primary">Test</Button>
              <Button as="secondary" ml={2}>
                Last
              </Button>
            </div>
            Main Content
          </Sidebar>
        </>
      );
    }}
  </Story>
</Preview>

### With scroll

If sidebar content does not fit the sidebar, scroll will appear. Default scroll theme is "light".

<Preview>
  <Story name="with scroll" parameters={{ chromatic: { disable: true } }}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={() => setIsOpen(true)}>Open sidebar</Button>
          <Sidebar
            open={isOpen}
            onCancel={() => setIsOpen(false)}
            header={<Typography variant="h3">Sidebar header</Typography>}
          >
            <div>
              <Button as="primary">Test</Button>
              <Button as="secondary" ml={2}>
                Last
              </Button>
            </div>
            <div style={{ marginBottom: 3000 }}>Long content</div>
          </Sidebar>
        </>
      );
    }}
  </Story>
</Preview>

## Props

### Sidebar
<Props of={Sidebar} />
