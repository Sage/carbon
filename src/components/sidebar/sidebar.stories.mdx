import { useState, useRef } from "react";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import Sidebar from ".";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";
import * as stories from "./sidebar.stories.tsx";

<Meta
  title="Sidebar"
  parameters={{
    info: { disable: true },
    themeProvider: { chromatic: { theme: "sage" } },
  }}
/>

# Sidebar

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/925533-sidebar"
  style={{ color: '#007E45', fontWeight: 'bold', textDecoration: 'underline' }}
>
  Product Design System component 
</a>

# <h2>Contents</h2>

- [Quick Start](#quick-start)
- [Related Components](#related-components)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import Sidebar from "carbon-react/lib/components/sidebar";
```

- Sidebar is positioned on the right hand screen of the window by default. To position the sidebar on the left hand side pass `position='left'` to the component.

- The background behind the sidebar is disabled by default. To allow the user to interact with all the UI pass `enableBackgroundUI={ true }` to the component

## Related Components

- Simple task in context? [Try Dialog](/?path=/docs/dialog--default-story "Try Dialog").
- Complex task that needs more space? [Try Dialog Full Screen](/?path=/docs/dialog-full-screen--default-story "Try Dialog Full Screen").

## Examples

### Default

<Canvas>
  <Story name="default" story={stories.DefaultStory}/>
</Canvas>

### Custom padding around content

<Canvas>
  <Story name="custom padding around content" story={stories.CustomPaddingAroundContent} />
</Canvas>

### With header

<Canvas>
  <Story name="with header" story={stories.WithHeader} />
</Canvas>

### With scroll

If sidebar content does not fit the sidebar, scroll will appear. Default scroll theme is "light".

<Canvas>
  <Story name="with scroll" story={stories.WithScroll} />
</Canvas>

### With Typography

<Canvas>
  <Story name="with typography" story={stories.WithTypography} />
</Canvas>

### Allowing other elements to be focused

Using the `focusableContainers` prop allows elements that are not DOM children of the Sidebar to be reachable with the keyboard while the Sidebar is open.
This may occasionally be useful with things like Toasts where they persist on the page until dismissed by clicking a close icon.
(In the example below, try clicking the cancel and/or save buttons and notice how you can navigate across one or both toasts as well as the sidebar using the keyboard.)

<Canvas>
  <Story name="other focusable containers" story={stories.OtherFocusableContainers} />
</Canvas>

### Custom width

It is possible to set a custom width for the `Sidebar` via the `width` [prop](#props). 
Setting this prop will override the preset width value defined via the `size` prop.

<Canvas>
  <Story name="custom width" story={stories.CustomWidth} />
</Canvas>

### With header and footer padding overridden 

<Canvas>
  <Story name="with header and footer padding" story={stories.WithHeaderAndFooterPadding} />
</Canvas>

## Props

### Sidebar

<StyledSystemProps noHeader padding width of={Sidebar} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "sidebar.ariaLabels.close",
      description: "The text for close button aria-label attribute",
      type: "func",
      returnType: "string",
    },
  ]}
/>
