import { Meta, ArgTypes, Canvas } from "@storybook/blocks";

import * as TooltipStories from "./tooltip.stories";

<Meta title="Tooltip" of={TooltipStories} />

# Tooltip

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/93ac95-tooltip"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

The `Tooltip` component is built using `tippyjs` to support features such as dynamic positioning where the tooltip will
flip if there is no space in its default placement; and the arrow and tooltip will track the target element when a user scrolls
or the window resizes.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import Tooltip from "carbon-react/lib/components/tooltip";
```

## Examples

### Default

To use the Tooltip, pass in the component you want it to display on in via the `children` prop, any component passed in
must support `forwardRef`. By default the Tooltip does not need to be controlled and will display when the target element
is focused or hovered. The default `position` is "top" and `size` is "M". The `message` prop is the text displayed in the
tooltip and it and the `children` prop are required.

<Canvas of={TooltipStories.Default} />

### Controlled

The Tooltip can also be controlled via the `isVisible` prop.

<Canvas of={TooltipStories.Controlled} />

### Positioning

The Tooltip supports four `position`s: "top", "bottom", "left" and "right". However, if there is no room for it to display
in this position it will attempt to flip and dynamically place itself in the opposite position. The Tooltip will also track
the target element when a user scrolls. The flipping and tracking features can be seen by adjusting the window size
(ideally in the canvas tab) and scrolling.

<Canvas of={TooltipStories.Positioning} />

### Overriding the default flip behaviour

By default if there is no room for the Tooltip to display in the given position it will attempt to flip and dynamically
place itself in the opposite position. You can pass an array of `flipOverrides` which will alter the behaviour from the
default, the Tooltip will flip to the positions defined in the array in the order they are defined. The overriding
can be seen by adjusting the window size (ideally in the canvas tab) and scrolling. The example should render the
Tooltip "bottom" intitially, then flip to "right" when there is not enough room below, and finally to the "left" position
when there is no space to render to the right anymore.

<Canvas of={TooltipStories.FlipBehaviourOverrides} />

### Large tooltip

<Canvas of={TooltipStories.LargeTooltip} />

### Types

The `Tooltip` can be rendered as two different `type`s which will alter the colour of the background: "error"
or if no value is passed it will default to a black background.

<Canvas of={TooltipStories.Types} />

### Color overrides

The `Tooltip` background and font color can be overridden via the `bgColor` and `fontColor` props and accept any valid
css value. Any values passed to the `bgColor` prop will override the color applied by the `type`

<Canvas of={TooltipStories.ColorOverrides} />

## Props

### Tooltip

<ArgTypes of={TooltipStories} />
