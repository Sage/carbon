import { Meta, Story, Canvas } from "@storybook/addon-docs";

import Loader from ".";
import Button from "../button";
import { LOADER_SIZES } from "./loader.config";

<Meta
  title="Loader/Test"
  parameters={{
    info: { disable: true },
    chromatic: {
      disable: true,
    },
  }}
  argTypes={{
    size: {
      options: LOADER_SIZES,
      control: {
        type: "select",
      },
    },
  }}
/>

export const LoaderStory = ({ isInsideButton, size, isActive, ...args }) => {
  if (isInsideButton) {
    return (
      <Button buttonType="primary" disabled={!isActive}>
        <Loader
          isInsideButton={isInsideButton}
          isActive={isActive}
          size={size}
          {...args}
        />
      </Button>
    );
  }
  return <Loader size={size} />;
};

# Loader

### Default

<Canvas>
  <Story
    name="default"
    args={{
      isInsideButton: false,
      size: Loader.defaultProps.size,
      isActive: Loader.defaultProps.isActive,
    }}
  >
    {LoaderStory.bind({})}
  </Story>
</Canvas>
